(this["webpackJsonp18127136-18127269-moorssalc-frontend"]=this["webpackJsonp18127136-18127269-moorssalc-frontend"]||[]).push([[0],{175:function(e,t,u){"use strict";var n=u(176);u.o(n,"UserRole")&&u.d(t,"UserRole",(function(){return n.UserRole}));var r=u(177);u.o(r,"UserRole")&&u.d(t,"UserRole",(function(){return r.UserRole}))},176:function(e,t){},177:function(e,t){},178:function(e,t,u){"use strict";var n=u(179);u.o(n,"UserRole")&&u.d(t,"UserRole",(function(){return n.UserRole}));var r=u(180);u.o(r,"UserRole")&&u.d(t,"UserRole",(function(){return r.UserRole}))},179:function(e,t){},180:function(e,t){},181:function(e,t,u){"use strict";var n=u(182);u.o(n,"UserRole")&&u.d(t,"UserRole",(function(){return n.UserRole}));var r=u(183);u.o(r,"UserRole")&&u.d(t,"UserRole",(function(){return r.UserRole}));var a=u(184);u.d(t,"UserRole",(function(){return a.a}))},182:function(e,t){},183:function(e,t){},184:function(e,t,u){"use strict";var n;u.d(t,"a",(function(){return n})),function(e){e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMIN="ADMIN"}(n||(n={}))},351:function(e,t,u){},352:function(e,t,u){"use strict";u.r(t);var n=u(1),r=u.n(n),a=u(50),o=u.n(a),i=u(447),s=u(9),c=u(435),l=u(436),d=u(399),h=u(432),j=u(434),D=u(405),b=u(406),C=u(408),m=u(409),f=u(437),p={bgcolor:"background.paper",color:"text.primary",borderBottom:1,borderColor:"divider"},x={list:{width:300,px:1},btnItem:{fontWeight:500,fontSize:16,height:56},textItem:{height:40,"& .MuiTypography-root":{fontWeight:500,fontSize:14,letterSpacing:".5px"}}},F=u(411),A=u(407),g=u(410),O=u(14),v=u(0),B=function(e){var t=e.children,u=(e.items,e.toolbarComponents),r=Object(d.a)({disableHysteresis:!0,threshold:0}),a=n.useState(!1),o=Object(s.a)(a,2),i=o[0],B=o[1],E=Object(O.e)(),y=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&B(e)}};return Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)(h.a,{anchor:"left",open:i,onClose:y(!1),children:Object(v.jsxs)(j.a,{sx:x.list,role:"presentation",onKeyDown:y(!1),children:[Object(v.jsxs)(D.a,{sx:x.btnItem,onClick:function(){return E("/")},children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(A.a,{})}),Object(v.jsx)(C.a,{primary:"Classes"})]}),Object(v.jsx)(m.a,{}),Object(v.jsxs)(D.a,{sx:x.btnItem,onClick:function(){return E("/profile")},children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(g.a,{})}),Object(v.jsx)(C.a,{primary:"Profile Setting"})]})]})}),Object(v.jsxs)(c.a,{elevation:r?4:0,sx:p,children:[Object(v.jsxs)(l.a,{children:[Object(v.jsx)(f.a,{size:"large",edge:"start",color:"inherit","aria-label":"open drawer",onClick:y(!0),children:Object(v.jsx)(F.a,{})}),t]}),u]}),Object(v.jsx)(l.a,{})]})},E=u(205),y=u(431),w=function(e){var t=e.children,u=e.themeConfig,n=Object(E.a)(u);return Object(v.jsx)(y.a,{theme:n,children:t})},S=u(28),_=u(110),k=u.n(_),T="".concat("https://moorssalc.herokuapp.com","/").concat("api","/").concat("v1"),I=k.a.create({baseURL:T,withCredentials:!0}),R=u(15),U=u(16),W="jwt_access_token",z="jwt_refresh_token",M=u(137),P=function(){function e(){Object(R.a)(this,e),this.isAuthTokenValid=function(e){if(!e)return!1;var t=Object(M.a)(e),u=Date.now()/1e3;return!(t.exp<u)||(console.warn("access token expired"),!1)},this._setSession=function(e,t){e?(localStorage.setItem(W,e),I.defaults.headers.common.Authorization="Bearer "+e):(localStorage.removeItem(W),delete I.defaults.headers.common.Authorization),t?localStorage.setItem(z,t):localStorage.removeItem(z)}}return Object(U.a)(e,[{key:"init",value:function(e,t){var u=this,n=localStorage.getItem(W),r=localStorage.getItem(z);I.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&e.config&&!e.config.__isRetryRequest&&(u._setSession(null,null),t()),Promise.reject(e.response.data)})),this.isAuthTokenValid(n)?(this._setSession(n,r),e()):(this._setSession(null,null),t())}},{key:"logIn",value:function(e){var t=this;return new Promise((function(u,n){I.post("/auth/login",e).then((function(e){if(e.data){var n=e.data.access_token,r=e.data.refresh_token;t._setSession(n,r),u(e.data)}})).catch((function(e){return n(e)}))}))}},{key:"register",value:function(e){var t=this;return new Promise((function(u,n){I.post("/auth/register",e).then((function(e){if(e){var n=e.data.access_token,r=e.data.refresh_token;t._setSession(n,r),u(e.data)}})).catch((function(e){return n(e)}))}))}},{key:"logOut",value:function(){var e=this,t=localStorage.getItem(z);return new Promise((function(u,n){I.post("/auth/logout",{refresh_token:t}).then((function(t){e._setSession(null,null),u(t.data)})).catch((function(e){return n(e)}))}))}},{key:"getUserData",value:function(){var e=localStorage.getItem(W),t=Object(M.a)(e);return new Promise((function(e,u){I.get("/users/".concat(null===t||void 0===t?void 0:t._id)).then((function(t){t.data&&e(t.data)})).catch((function(e){return u(e)}))}))}}]),e}(),q=u(20),L=u.n(q),G=u(32),N=u(24),V=u(25),H={page:1,per_page:10,sort_by:"created_at",sort_order:"desc"},$=function(){function e(){Object(R.a)(this,e),this.resource="",this._repository=I}return Object(U.a)(e,[{key:"get",value:function(){var e=Object(G.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource," "));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWithPagination",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource,"/").concat(J(Object(S.a)(Object(S.a)({},H),t))));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOne",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource,"/").concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getWithCustomQuery",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource).concat(J(t)));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.post("".concat(this.resource),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(G.a)(L.a.mark((function e(t,u){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.put("".concat(this.resource,"/").concat(t),u);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t,u){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.delete("".concat(this.resource,"/").concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"customRequest",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k()(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),J=function(e){return new URLSearchParams(e).toString()},Z=function(e){Object(N.a)(u,e);var t=Object(V.a)(u);function u(){var e;Object(R.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).resource="/auth/google-activate",e._setSession=function(t,u){t?(localStorage.setItem(W,t),e._repository.defaults.headers.common.Authorization="Bearer "+t):(localStorage.removeItem(W),delete e._repository.defaults.headers.common.Authorization),u?localStorage.setItem(z,u):localStorage.removeItem(z)},e}return Object(U.a)(u,[{key:"validateToken",value:function(){var e=Object(G.a)(L.a.mark((function e(t){var u,n=this;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={token_id:t},e.abrupt("return",new Promise((function(e,t){n._repository.post("".concat(n.resource),u).then((function(t){if(t.data){console.log("log ~ file: google.service.ts ~ line 16 ~ GoogleValidateService ~ .then ~ response.data",t.data);var u=t.data.access_token,r=t.data.refresh_token;n._setSession(u,r),e(t.data)}})).catch((function(e){return t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),u}($),X={signIn:function(){return new Promise((function(){}))},signInWithGG:function(){return new Promise((function(){}))},register:function(){return new Promise((function(){}))},logOut:function(){},reload:function(){},isAuthenticated:!1,pending:!0,userData:void 0},K=r.a.createContext(X),Q=function(e){var t=e.children,u=r.a.useState(void 0),n=Object(s.a)(u,2),a=n[0],o=n[1],i=r.a.useState(!1),c=Object(s.a)(i,2),l=c[0],d=c[1],h=r.a.useState(!0),j=Object(s.a)(h,2),D=j[0],b=j[1],C=new P,m=new Z,f=function(){C.init(p,x)};r.a.useEffect((function(){console.log("Check Auth"),I.get("/",{withCredentials:!0}),f()}),[]);var p=function(){console.log("~ onAutoLogIn"),C.getUserData().then((function(e){d(!0),b(!1),o(e)})).catch((function(e){console.error(e)}))},x=function(){console.log("~ onAutoLogOut"),d(!1),b(!1),o(void 0)},F=Object(S.a)(Object(S.a)({},X),{},{signIn:function(e){return new Promise((function(t,u){C.logIn(e).then((function(e){p(),t(e)})).catch((function(e){return u(e)}))}))},signInWithGG:function(e){return new Promise((function(t,u){m.validateToken(e).then((function(e){d(!0),b(!1),o(e.data),t(e)})).catch((function(e){u(e)}))}))},register:function(e){return new Promise((function(t,u){C.register(e).then((function(){p(),t(e)})).catch((function(e){u(e)}))}))},logOut:function(){return d(!1),C.logOut().then(x)},reload:f,isAuthenticated:l,pending:D,userData:a});return Object(v.jsx)(K.Provider,{value:F,children:t})},Y=function(){return r.a.useContext(K)},ee=u(116),te=u(424),ue=u(438),ne=u(122),re={root:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:3,pb:1},title:{fontSize:16,fontWeight:"bold"}},ae=function(e){var t=e.open,u=e.handleClose,n=e.title,r=e.children,a=Object(ee.a)(e,["open","handleClose","title","children"]);return Object(v.jsx)(te.a,{open:t,onClose:u,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsxs)(ue.a,Object(S.a)(Object(S.a)({sx:re.root},a),{},{children:[Object(v.jsx)(ne.a,{id:"modal-modal-title",sx:re.title,gutterBottom:!0,children:n}),r]}))})},oe=u(430),ie=u(206),se=u(439),ce=function(e){var t=e.fname,u=e.imageUrl,n=Y().logOut,a=Object(O.e)(),o=r.a.useState(null),i=Object(s.a)(o,2),c=i[0],l=i[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit",children:u&&""!==u?Object(v.jsx)(oe.a,{sx:{width:32,height:32},alt:t,src:u}):Object(v.jsx)(oe.a,{sx:{width:32,height:32,bgcolor:"primary.main"},children:t.charAt(0)})}),Object(v.jsxs)(ie.a,{id:"menu-profile",anchorEl:c,MenuListProps:{"aria-labelledby":"profile-button"},open:Boolean(c),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return l(null)},keepMounted:!0,children:[Object(v.jsx)(se.a,{onClick:function(){l(null),a("/profile")},children:"Profile"}),Object(v.jsx)(se.a,{onClick:function(){l(null),n()},children:"Logout"})]})]})},le=u(440),de=function(e){var t=e.children,u=e.value,n=e.index,r=Object(ee.a)(e,["children","value","index"]);return Object(v.jsx)(le.a,{in:u===n,timeout:500,children:Object(v.jsx)("div",Object(S.a)(Object(S.a)({role:"tabpanel",id:"tabpanel-".concat(n),"aria-labelledby":"-tab-".concat(n)},r),{},{children:u===n&&t}))})},he=u(428),je=u(404),De=u(426),be=function(e){var t=e.open,u=e.msg,n=e.severity,r=void 0===n?"success":n,a=e.handleClose;return Object(v.jsx)(he.a,{open:t,autoHideDuration:4e3,onClose:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},TransitionComponent:function(e){return Object(v.jsx)(je.a,Object(S.a)(Object(S.a)({},e),{},{direction:"up"}))},sx:{minWidth:"300px"},children:Object(v.jsx)(De.a,{onClose:a,severity:r,sx:{width:"100%"},children:u})})},Ce={palette:{},typography:{fontFamily:["Poppins","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}},me=u(90),fe=function(){return Object(me.b)()},pe=me.c,xe=u(80),Fe=Object(xe.a)({name:"loading",initialState:{isLoading:!1},reducers:{showLoading:function(e,t){return{isLoading:t.payload}}}}),Ae=(Fe.actions.showLoading,Fe.reducer),ge={message:"",type:"success"},Oe=Object(xe.a)({name:"message",initialState:ge,reducers:{showMessage:function(e,t){return Object(S.a)(Object(S.a)({},ge),t.payload)},hideMessage:function(e){return ge}}}),ve=Oe.actions,Be=ve.showMessage,Ee=ve.hideMessage,ye=Oe.reducer,we=Object(xe.a)({name:"theme",initialState:{theme:"light"},reducers:{setTheme:function(e,t){var u=t.payload.theme;return localStorage.setItem("theme",u),{theme:u}},getTheme:function(e){return{theme:localStorage.getItem("theme")||"light"}}}}),Se=we.actions,_e=(Se.setTheme,Se.getTheme,we.reducer),ke=u(49),Te=function(){function e(){Object(R.a)(this,e)}return Object(U.a)(e,null,[{key:"filterArrayByString",value:function(e,t){var u=this;return""===t?e:(t=t.toLowerCase(),e.filter((function(e){return u.searchInObj(e,t)})))}},{key:"searchInObj",value:function(e,t){for(var u in e)if(e.hasOwnProperty(u)){var n=e[u];if("string"===typeof n){if(this.searchInString(n,t))return!0}else if(Array.isArray(n)&&this.searchInArray(n,t))return!0;if("object"===typeof n&&this.searchInObj(n,t))return!0}return!1}},{key:"searchInArray",value:function(e,t){var u,n=Object(ke.a)(e);try{for(n.s();!(u=n.n()).done;){var r=u.value;if("string"===typeof r&&this.searchInString(r,t))return!0;if("object"===typeof r&&this.searchInObj(r,t))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"searchInString",value:function(e,t){return e.toLowerCase().includes(t)}},{key:"generateGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()}},{key:"toggleInArray",value:function(e,t){-1===t.indexOf(e)?t.push(e):t.splice(t.indexOf(e),1)}},{key:"sanitizeString",value:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/\W+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},{key:"stringToSlug",value:function(e){return e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}},{key:"findById",value:function(e,t){if(e.id===t)return e;var u,n;for(n in e)if(e.hasOwnProperty(n)&&"object"===typeof e[n]&&(u=this.findById(e[n],t)))return u;return null}},{key:"randomMatColor",value:function(e){e=e||"400";var t=["amber","blue","blueGrey","brown","common","cyan","deepOrange","deepPurple","green","grey","indigo","lightBlue","lightGreen","lime","orange","pink","purple","red","teal","yellow"];return[t[Math.floor(Math.random()*t.length)],e]}},{key:"getParameterByName",value:function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var u=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return u?u[2]?decodeURIComponent(u[2].replace(/\+/g," ")):"":null}}]),e}(),Ie=u(21),Re=u(413),Ue=u(414),We=u(415),ze=[{title:"Classes",icon:Object(v.jsx)(A.a,{}),href:"/",type:"item"},{title:"Calendar",icon:Object(v.jsx)(Re.a,{}),href:"/",type:"item"},{title:"Teaching",type:"group",children:[{title:"To review",icon:Object(v.jsx)(Ue.a,{}),href:"/",type:"item"}]},{title:"Enrolled",type:"group",children:[{title:"To-do",icon:Object(v.jsx)(We.a,{}),href:"/",type:"item"}]}],Me=u(197),Pe=u.n(Me),qe=u(441),Le=u(427),Ge=u(416),Ne=u(442),Ve={checkboxContainer:{display:"flex",flexDirection:"row",p:1,bgcolor:"grey.100",my:2,justifyContent:"start"}},He={container:{"& .MuiTextField-root":{my:1,mb:2}}},$e=function(e){var t=e.open,u=e.handleClose,n=e.onSubmit,a=r.a.useState(!1),o=Object(s.a)(a,2),i=o[0],c=o[1];return Object(v.jsx)(ae,{open:t,handleClose:u,title:"Using Classroom at a school with students?",width:300,children:Object(v.jsxs)(ue.a,{sx:{pt:1},children:[Object(v.jsxs)(ne.a,{variant:"body2",gutterBottom:!0,component:"p",sx:{pt:1},children:["If so, your school must sign up for a free Google Workspace for Education account before you can use Classroom."," ",Object(v.jsx)(qe.a,{href:"#",children:"privacy and security"})]}),Object(v.jsxs)(ne.a,{variant:"body2",gutterBottom:!0,component:"p",sx:{pt:1},children:["Google Workspace for Education lets schools decide which Google services their students can use, and provides additional"," ",Object(v.jsx)(qe.a,{href:"#",children:"privacy and security"})," protections that are important in a school setting. Students cannot use Google Classroom at a school with personal accounts."]}),Object(v.jsxs)(ue.a,{sx:Ve.checkboxContainer,children:[Object(v.jsx)("div",{children:Object(v.jsx)(Le.a,{checked:i,onChange:function(e){c(e.target.checked)}})}),Object(v.jsx)(ne.a,{variant:"body2",gutterBottom:!0,component:"p",sx:{pt:1},children:"I've read and understand the above notice, and I'm not using Classroom at a school with students"})]}),Object(v.jsxs)(Ge.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(v.jsx)(Ne.a,{onClick:u,children:"Go back"}),Object(v.jsx)(Ne.a,{onClick:n,disabled:!i,children:"Continue"})]})]})})},Je=u(423),Ze=u(40),Xe=u(19),Ke=Xe.a({title:Xe.c().min(1,"Classroom Title should be of 1-100 characters length").max(100,"Classroom Title should be of 1-100 characters length").required("Classroom Title is required"),section:Xe.c().min(1,"Section should be of 1-50 characters length").max(50,"Section should be of 1-50 characters length").required("Section is required"),subject:Xe.c().min(1,"Subject should be of 1-50 characters length").max(50,"Subject should be of 1-50 characters length"),room:Xe.c().min(1,"Room should be of 1-50 characters length").max(50,"Room should be of 1-50 characters length")}),Qe=function(e){var t=e.open,u=e.handleClose,n=e.onSubmit,r=Object(Ze.a)({initialValues:{title:"",room:"",section:"",subject:""},validationSchema:Ke,onSubmit:function(e){n(e)}});return Object(v.jsx)(ae,{open:t,handleClose:u,title:"Create class",width:500,children:Object(v.jsxs)(ue.a,{component:"form",noValidate:!0,autoComplete:"off",sx:He.container,onSubmit:r.handleSubmit,children:[Object(v.jsx)(Je.a,{id:"title",name:"title",label:"Class name (required)",variant:"filled",fullWidth:!0,value:r.values.title,onChange:r.handleChange,error:r.touched.title&&Boolean(r.errors.title),helperText:r.touched.title&&r.errors.title}),Object(v.jsx)(Je.a,{id:"section",name:"section",label:"Section (required)",variant:"filled",fullWidth:!0,onChange:r.handleChange,value:r.values.section,error:r.touched.section&&Boolean(r.errors.section),helperText:r.touched.section&&r.errors.section}),Object(v.jsx)(Je.a,{id:"subject",name:"subject",label:"Subject",variant:"filled",fullWidth:!0,onChange:r.handleChange,value:r.values.subject,error:r.touched.subject&&Boolean(r.errors.subject),helperText:r.touched.subject&&r.errors.subject}),Object(v.jsx)(Je.a,{id:"room",name:"room",label:"Room",variant:"filled",fullWidth:!0,onChange:r.handleChange,value:r.values.room,error:r.touched.room&&Boolean(r.errors.room),helperText:r.touched.room&&r.errors.room}),Object(v.jsxs)(Ge.a,{direction:"row",spacing:2,marginTop:1,justifyContent:"flex-end",children:[Object(v.jsx)(Ne.a,{onClick:u,children:"Go back"}),Object(v.jsx)(Ne.a,{type:"submit",onClick:function(){},children:"Continue"})]})]})})},Ye=Xe.a({code:Xe.c().min(6,"Classroom Title should be of 6 characters length").max(6,"Classroom Title should be of 6 characters length").matches(/^[ A-Za-z0-9]*$/,"Alphabetical or numeral characters only!").required("Classroom code is required")}),et=function(e){var t=e.open,u=e.handleClose,n=e.onSubmit,r=Object(Ze.a)({initialValues:{code:""},validateOnChange:!0,validationSchema:Ye,onSubmit:function(e){n(e)}});return Object(v.jsx)(ae,{open:t,handleClose:u,title:"Join classroom by code",width:300,children:Object(v.jsxs)(ue.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:r.handleSubmit,sx:He.container,children:[Object(v.jsx)(ne.a,{variant:"body2",gutterBottom:!0,component:"p",sx:{pb:2},children:"Ask your teacher for the class code, then enter it here."}),Object(v.jsx)(Je.a,{id:"code",name:"code",label:"Class code (required)",fullWidth:!0,value:r.values.code,onChange:r.handleChange,error:r.touched.code&&Boolean(r.errors.code),helperText:r.touched.code&&r.errors.code}),Object(v.jsxs)(Ge.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(v.jsx)(Ne.a,{onClick:u,children:"Go back"}),Object(v.jsx)(Ne.a,{type:"submit",children:"Continue"})]})]})})},tt=function(e){var t=e.handleCreateClass,u=e.handleJoinClass,n=r.a.useState(null),a=Object(s.a)(n,2),o=a[0],i=a[1],c=r.a.useState(!1),l=Object(s.a)(c,2),d=l[0],h=l[1],j=r.a.useState(!1),D=Object(s.a)(j,2),b=D[0],C=D[1],m=r.a.useState(!1),p=Object(s.a)(m,2),x=p[0],F=p[1],A=function(){i(null),h(!1),C(!1),F(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit",children:Object(v.jsx)(Pe.a,{sx:{fontSize:24}})}),Object(v.jsxs)(ie.a,{id:"menu-add",anchorEl:o,MenuListProps:{"aria-labelledby":"add-button"},open:Boolean(o),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return i(null)},keepMounted:!0,children:[Object(v.jsx)(se.a,{onClick:function(){F(!0)},children:"Join class"}),Object(v.jsx)(se.a,{onClick:function(){return h(!0)},children:"Create class"})]}),Object(v.jsx)($e,{open:d,handleClose:A,onSubmit:function(){A(),C(!0)}}),Object(v.jsx)(Qe,{open:b,handleClose:A,onSubmit:function(e){t(e),A()}}),Object(v.jsx)(et,{open:x,handleClose:A,onSubmit:function(e){u(e),A()}})]})},ut=u(443),nt=u(444),rt=u(445),at=u(446),ot={card:{":hover":{boxShadow:"0 1px 2px 0 rgb(60 64 67 / 30%), 0 2px 6px 2px rgb(60 64 67 / 15%)"},maxWidth:290,border:2,borderColor:"grey.200",borderRadius:2},header:{flexWrap:"nowrap",whiteSpace:"nowrap",justifyContent:"space-between",alignItems:"start",marginTop:"-100px",p:2,pb:4,color:"#fff","& > .MuiBox-root":{cursor:"pointer",":hover":{textDecoration:"underline"},"& > .MuiBox-root":{textOverflow:"ellipsis",overflow:"hidden"}}},header_title:{fontSize:22},header_section:{fontSize:13},actions:{borderTop:2,borderColor:"grey.200",justifyContent:"end"}},it=u(198),st=u.n(it),ct=u(199),lt=u.n(ct),dt=u(200),ht=u.n(dt),jt=function(e){var t=e.image,u=e.title,n=e.section,r=e.onClick;return Object(v.jsxs)(ut.a,{sx:ot.card,elevation:0,children:[Object(v.jsx)(nt.a,{component:"img",height:"100",image:t,alt:"bg"}),Object(v.jsxs)(Ge.a,{spacing:2,direction:"row",sx:ot.header,children:[Object(v.jsxs)(ue.a,{width:200,onClick:r,children:[Object(v.jsx)(ue.a,{sx:ot.header_title,component:"div",children:u}),Object(v.jsx)(ue.a,{sx:ot.header_section,component:"div",children:n})]}),Object(v.jsx)(f.a,{children:Object(v.jsx)(st.a,{sx:{color:"#fff"}})})]}),Object(v.jsx)(rt.a,{sx:{minHeight:100}}),Object(v.jsxs)(at.a,{sx:ot.actions,children:[Object(v.jsx)(f.a,{size:"medium",color:"primary",children:Object(v.jsx)(lt.a,{})}),Object(v.jsx)(f.a,{size:"medium",color:"primary",children:Object(v.jsx)(ht.a,{})})]})]})},Dt={px:2},bt={display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"start",gap:3,mt:3},Ct=function(e){Object(N.a)(u,e);var t=Object(V.a)(u);function u(){var e;Object(R.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).resource="classes",e}return Object(U.a)(u,[{key:"getClassList",value:function(){var e=this;return new Promise((function(t,u){e.get().then((function(e){t(e)}))}))}},{key:"joinClassRoom",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.post("".concat(this.resource,"/join"),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),u}($),mt=u(38),ft=new Ct,pt=function(){var e=Object(O.e)(),t=fe(),u=Y().userData,n=r.a.useState(!1),a=Object(s.a)(n,2),o=a[0],c=a[1],l=r.a.useState([]),d=Object(s.a)(l,2),h=d[0],j=d[1];r.a.useEffect((function(){c(!0),ft.getClassList().then((function(e){j(null===e||void 0===e?void 0:e.data),c(!1)}))}),[]);return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(B,{items:ze,toolbarComponents:Object(v.jsx)(v.Fragment,{children:o&&Object(v.jsx)(i.a,{})}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ne.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"\ud83c\udf93 Moorssalc"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(tt,{handleCreateClass:function(e){c(!0),ft.create(e).then((function(e){console.log(e),c(!1),j((function(t){return[].concat(Object(Ie.a)(t),[e])}))}))},handleJoinClass:function(e){c(!0),ft.joinClassRoom({code:e.code,role:mt.UserRole.STUDENT}).then((function(u){console.log(u),c(!1),t(Be({message:"Class enrolled with code = "+e.code+"!"}))})).catch((function(e){t(Be({message:"Failed to enroll!",type:"error"}))}))}}),u&&Object(v.jsx)(ce,{fname:u.first_name,imageUrl:u.avatar})]})]})}),!o&&Object(v.jsx)(ue.a,{sx:Dt,children:Object(v.jsx)(ue.a,{sx:bt,children:h.map((function(t,u){return Object(v.jsx)(jt,{title:t.title,section:t.section,image:t.image,onClick:function(){e("/classroom/".concat(t._id))}},u)}))})})]})},xt=u(412),Ft=u(448),At=u(433),gt=u(449),Ot=u(201),vt={root:{bgcolor:"#A2D2FF"},container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{px:{xs:2,sm:4},py:5,borderRadius:2,width:448,textAlign:"center","& .MuiButton-root":{my:1,py:1.2}},form:{mt:3,mb:1,"& .MuiTextField-root":{my:1}},signUpContainer:{fontStyle:"italic",my:2,justifyContent:"center",gap:.5,"& .MuiLink-root":{cursor:"pointer"}},divider:{my:2}},Bt=u.p+"static/media/gg.87be52cb.svg",Et=Xe.a({email:Xe.c().email("This field should be a valid email").required("Please enter email"),password:Xe.c().required("Please Enter your password")}),yt=function(){var e=Object(O.d)().search,t=fe(),u=Object(O.e)(),n=r.a.useState(!1),a=Object(s.a)(n,2),o=a[0],i=a[1],c=Y(),l=c.signIn,d=c.signInWithGG,h=Object(Ot.useGoogleLogin)({clientId:"22784196144-ber9ob5rl3dqobqogd4ai0gv11abdt8j.apps.googleusercontent.com",cookiePolicy:"single_host_origin",loginHint:"Login with google",onSuccess:function(e){console.log(e),i(!0),d(e.tokenId).then((function(e){t(Be({message:"Login successfully"}))}))}}).signIn,j=Object(Ze.a)({initialValues:{email:"",password:""},validationSchema:Et,onSubmit:function(e){l(e).catch((function(e){t(Be({message:"Invalid credentials",type:"error"}))}))}});return Object(v.jsx)(ue.a,{sx:vt.root,children:Object(v.jsx)(xt.a,{appear:!0,in:!0,timeout:500,children:Object(v.jsx)(Ft.a,{sx:vt.container,children:Object(v.jsxs)(At.a,{elevation:4,square:!0,sx:vt.paper,children:[Object(v.jsx)(ne.a,{variant:"h2",children:"\ud83c\udf93"}),Object(v.jsx)(ne.a,{variant:"h5",children:"Moorssalc"}),Object(v.jsx)(ne.a,{variant:"body1",children:"Sign in "}),Object(v.jsxs)(ue.a,{component:"form",noValidate:!0,autoComplete:"off",sx:vt.form,onSubmit:j.handleSubmit,children:[Object(v.jsx)(Je.a,{id:"email",name:"email",label:"Email",type:"email",fullWidth:!0,autoComplete:"off",value:j.values.email,onChange:j.handleChange,error:j.touched.email&&Boolean(j.errors.email),helperText:j.touched.email&&j.errors.email}),Object(v.jsx)(Je.a,{id:"password",name:"password",label:"Password",type:"password",fullWidth:!0,autoComplete:"off",value:j.values.password,onChange:j.handleChange,error:j.touched.password&&Boolean(j.errors.password),helperText:j.touched.password&&j.errors.password}),Object(v.jsx)(Ne.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained","aria-label":"login with credentials",endIcon:o&&Object(v.jsx)(gt.a,{size:16}),disabled:o,children:"Sign in"})]}),Object(v.jsxs)(Ge.a,{direction:"row",sx:vt.signUpContainer,children:[Object(v.jsx)(ne.a,{variant:"body1",children:"Don't have account?"}),Object(v.jsx)(qe.a,{onClick:function(){u("/auth/register"+e)},children:"Sign up"})]}),Object(v.jsx)(m.a,{flexItem:!0,sx:vt.divider,children:"or"}),Object(v.jsx)(Ne.a,{fullWidth:!0,variant:"outlined",size:"large","aria-label":"Sign in with Google",color:"error",startIcon:Object(v.jsx)("img",{src:Bt,alt:"Google Icon"}),onClick:function(){h()},children:"Login with Google"})]})})})})},wt=/^(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0621-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971\u0972\u097B-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3D\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8B\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C6F\u2C71-\u2C7D\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FC3\uA000-\uA48C\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA65F\uA662-\uA66E\uA67F-\uA697\uA717-\uA71F\uA722-\uA788\uA78B\uA78C\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA90A-\uA925\uA930-\uA946\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDD00-\uDD15\uDD20-\uDD39\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33]|\uD808[\uDC00-\uDF6E]|\uD809[\uDC00-\uDC62]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0523\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0621-\u065E\u0660-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0901-\u0939\u093C-\u094D\u0950-\u0954\u0958-\u0963\u0966-\u096F\u0971\u0972\u097B-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC\u0EDD\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F8B\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u1099\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19A9\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BAA\u1BAE-\u1BB9\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1D00-\u1DE6\u1DFE-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u2094\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2C6F\u2C71-\u2C7D\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FC3\uA000-\uA48C\uA500-\uA60C\uA610-\uA62B\uA640-\uA65F\uA662-\uA66F\uA67C\uA67D\uA67F-\uA697\uA717-\uA71F\uA722-\uA788\uA78B\uA78C\uA7FB-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA900-\uA92D\uA930-\uA953\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1E\uDF30-\uDF4A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F\uDD00-\uDD15\uDD20-\uDD39\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F]|\uD808[\uDC00-\uDF6E]|\uD809[\uDC00-\uDC62]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|[\uD840-\uD868][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/,St=Xe.a({email:Xe.c().email("This field should be a valid email").required("Please enter email"),first_name:Xe.c().matches(wt,"No special characters, and 1 word allow").required("Firstname is required"),last_name:Xe.c().matches(wt,"No special characters, and 1 word allow").required("Lastname is rquired"),password:Xe.c().required("Please Enter your password").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Must Contain 6 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character"),passwordConfirm:Xe.c().oneOf([Xe.b("password"),null],"Passwords must match").required("Please enter password confirmation")}),_t=function(){var e=Object(O.d)().search,t=fe(),u=Y().register,n=Object(O.e)(),a=r.a.useState(!1),o=Object(s.a)(a,2),i=o[0],c=o[1],l=Object(Ze.a)({initialValues:{email:"",first_name:"",last_name:"",password:"",passwordConfirm:""},validateOnBlur:!0,validationSchema:St,onSubmit:function(e){c(!0);var n=Object(S.a)({},e);delete n.passwordConfirm,u&&u(n).then((function(){c(!1),t(Be({message:"Registeration completed",type:"success"}))})).catch((function(e){c(!1),t(Be({message:e.message,type:"error"}))}))}});return Object(v.jsx)(ue.a,{sx:vt.root,children:Object(v.jsx)(xt.a,{appear:!0,in:!0,timeout:500,children:Object(v.jsx)(Ft.a,{sx:vt.container,children:Object(v.jsxs)(At.a,{elevation:4,square:!0,sx:vt.paper,children:[Object(v.jsx)(ne.a,{variant:"h2",children:"\ud83c\udf93"}),Object(v.jsx)(ne.a,{variant:"h5",children:"Moorssalc"}),Object(v.jsx)(ne.a,{variant:"body1",children:"Sign up"}),Object(v.jsxs)(ue.a,{component:"form",noValidate:!0,autoComplete:"off",sx:vt.form,onSubmit:l.handleSubmit,children:[Object(v.jsxs)(Ge.a,{direction:"row",gap:3,children:[Object(v.jsx)(Je.a,{id:"first_name",name:"first_name",label:"Firstname",fullWidth:!0,value:l.values.first_name,onChange:l.handleChange,error:l.touched.first_name&&Boolean(l.errors.first_name),helperText:l.touched.first_name&&l.errors.first_name}),Object(v.jsx)(Je.a,{id:"last_name",name:"last_name",label:"Lastname ",fullWidth:!0,onChange:l.handleChange,value:l.values.last_name,error:l.touched.last_name&&Boolean(l.errors.last_name),helperText:l.touched.last_name&&l.errors.last_name})]}),Object(v.jsx)(Je.a,{id:"email",name:"email",label:"Email",type:"email",autoComplete:"off",fullWidth:!0,value:l.values.email,onChange:l.handleChange,error:l.touched.email&&Boolean(l.errors.email),helperText:l.touched.email&&l.errors.email}),Object(v.jsx)(Je.a,{id:"password",name:"password",label:"Password",type:"password",autoComplete:"off",fullWidth:!0,value:l.values.password,onChange:l.handleChange,error:l.touched.password&&Boolean(l.errors.password),helperText:l.touched.password&&l.errors.password}),Object(v.jsx)(Je.a,{id:"passwordConfirm",name:"passwordConfirm",label:"Confirm password",type:"password",fullWidth:!0,value:l.values.passwordConfirm,onChange:l.handleChange,error:l.touched.passwordConfirm&&Boolean(l.errors.passwordConfirm),helperText:l.touched.passwordConfirm&&l.errors.passwordConfirm}),Object(v.jsx)(Ne.a,{fullWidth:!0,type:"submit",size:"large",variant:"contained","aria-label":"login btn",endIcon:i&&Object(v.jsx)(gt.a,{size:16}),disabled:i,children:"Sign up"})]}),Object(v.jsxs)(Ge.a,{direction:"row",sx:vt.signUpContainer,children:[Object(v.jsx)(ne.a,{variant:"body1",children:"Already have account?"}),Object(v.jsx)(qe.a,{onClick:function(){n("/auth/login"+e)},children:"Log in"})]})]})})})})},kt=u(425),Tt=u(451),It=u(417),Rt=u(418),Ut=u(429),Wt=u(450),zt=u(422),Mt=function(e){Object(N.a)(u,e);var t=Object(V.a)(u);function u(){var e;Object(R.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).resource="classes",e}return Object(U.a)(u,[{key:"getMyRole",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource,"/").concat(t,"/role"));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassUsers",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource,"/").concat(t,"/people"));case 2:return e.abrupt("return",e.sent.data.users);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submitInvitation",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.post("".concat(this.resource,"/invite"),t);case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassData",value:function(){var e=Object(G.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._repository.get("".concat(this.resource,"/").concat(t,"/role"));case 2:return e.t0=e.sent.data.role,e.next=5,this.getOne(t);case 5:return e.t1=e.sent,e.abrupt("return",{myRole:e.t0,data:e.t1});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),u}($),Pt={root:{width:"650px"},header:{py:1,mt:3,px:2,borderBottom:1,borderColor:"primary.main","& .MuiTypography-root":{color:"primary.main",fontSize:32},"& .MuiButtonBase-root":{color:"primary.main",width:48}}},qt=Xe.a({email:Xe.c().email().required("Email is required")}),Lt=function(e){var t=e.open,u=e.title,n=e.handleClose,r=e.onSubmit,a=Object(Ze.a)({initialValues:{email:""},validateOnChange:!0,validationSchema:qt,onSubmit:function(e){r(e.email)}});return Object(v.jsx)(ae,{open:t,handleClose:n,title:u,width:300,children:Object(v.jsxs)(ue.a,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:a.handleSubmit,children:[Object(v.jsx)(ne.a,{variant:"body2",gutterBottom:!0,component:"p",children:"Send an invitation link to this email"}),Object(v.jsx)(Je.a,{id:"email",name:"email",label:"Enter email",variant:"standard",fullWidth:!0,sx:{mt:1,mb:2},value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(v.jsxs)(Ge.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(v.jsx)(Ne.a,{onClick:n,children:"Cancel"}),Object(v.jsx)(Ne.a,{type:"submit",children:"Invite"})]})]})})},Gt=function(e){var t=e.role,u=Object(O.f)().id,n=new Mt,a=fe(),o=r.a.useState([]),i=Object(s.a)(o,2),c=i[0],l=i[1],d=r.a.useState(!1),h=Object(s.a)(d,2),D=h[0],b=h[1],p=r.a.useState(!1),x=Object(s.a)(p,2),F=x[0],A=x[1],g=function(e){n.getClassUsers(e).then((function(e){l(e)}))};r.a.useEffect((function(){u&&(console.log("log ~ file: index.tsx ~ line 27 ~ PeopleTab ~ id",u),g(u))}),[]);var B=function(e,t){n.submitInvitation({class_id:u,role:e,email:t}).then((function(e){console.log(e),u&&g(u),a(Be({message:"Email submited!"}))})).catch((function(e){console.log("log ~ file: index.tsx ~ line 66 ~ .then ~ err",e),a(Be({message:"Error when submitted invitation! Reason: "+e.message,type:"error"}))}))};return Object(v.jsxs)(Ft.a,{maxWidth:!1,sx:Pt.root,children:[["Teachers","Students"].map((function(e){return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsxs)(Ge.a,{direction:"row",justifyContent:"space-between",sx:Pt.header,children:[Object(v.jsx)(ne.a,{children:e}),t!==mt.UserRole.STUDENT&&Object(v.jsx)(f.a,{onClick:function(){var t;t=e,console.log("log ~ file: index.tsx ~ line 48 ~ inviteBtnHandler ~ type",t),"Teachers"===t?b(!0):A(!0)},children:Object(v.jsx)(It.a,{})})]}),Object(v.jsx)(j.a,{children:c&&c.filter((function(u){return function(e,t){return"Teachers"===t?e!==mt.UserRole.STUDENT:e===mt.UserRole.STUDENT}(u.role,e)&&(t!==mt.UserRole.STUDENT||"INACTIVATED"!==u.status)})).map((function(e,t){return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsxs)(Ut.a,{alignItems:"flex-start",children:[Object(v.jsx)(Wt.a,{children:e.user_id.avatar?Object(v.jsx)(oe.a,{alt:e.user_id.first_name,src:e.user_id.avatar,sx:{bgcolor:"primary.main"}}):Object(v.jsx)(oe.a,{sx:{bgcolor:"primary.main"},children:e.user_id.first_name.charAt(0)})}),Object(v.jsx)(C.a,{primary:e.user_id.first_name+" "+e.user_id.last_name,secondary:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ne.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:e.user_id.email}),"INACTIVATED"===e.status&&" - (Inviting)"]})}),Object(v.jsx)(zt.a,{title:"Send Mail to ".concat(e.user_id.email),children:Object(v.jsx)(f.a,{href:"mailto:".concat(e.user_id.email),children:Object(v.jsx)(Rt.a,{})})})]}),Object(v.jsx)(m.a,{})]},t)}))})]},e)})),Object(v.jsx)(Lt,{title:"Invite Teachers",open:D,handleClose:function(){return b(!1)},onSubmit:function(e){B(mt.UserRole.TEACHER,e),b(!1)}}),Object(v.jsx)(Lt,{title:"Invite students",open:F,handleClose:function(){return A(!1)},onSubmit:function(e){B(mt.UserRole.STUDENT,e),A(!1)}})]})},Nt=u(419),Vt=u(420),Ht={card_stack:{mt:"-98px",whiteSpace:"nowrap",justifyContent:"space-between",alignItems:"end","& .MuiIconButton-root":{mx:1,my:.5,color:"#fff"}},card:{borderRadius:2},header:{color:"#fff",width:{xs:"80%",md:"90%"},p:2,"& .MuiBox-root":{textOverflow:"ellipsis",overflow:"hidden"}},header_title:{fontSize:30,fontWeight:500},header_section:{fontSize:14},content:{p:3},expand_row:{gap:1,"& .MuiTypography-root:first-of-type":{fontWeight:500}}},$t=function(e){var t=e.classData,u=e.role,n=r.a.useState(!0),a=Object(s.a)(n,2),o=a[0],i=a[1];return Object(v.jsx)(ue.a,{minHeight:"100vh",children:Object(v.jsxs)(ut.a,{sx:Ht.card,elevation:o?4:0,children:[Object(v.jsx)(nt.a,{component:"img",height:"240",image:t.image,alt:"bg"}),Object(v.jsxs)(Ge.a,{spacing:2,direction:"row",sx:Ht.card_stack,children:[Object(v.jsxs)(ue.a,{sx:Ht.header,children:[Object(v.jsx)(ue.a,{sx:Ht.header_title,children:t.title}),Object(v.jsx)(ue.a,{sx:Ht.header_section,children:t.section})]}),Object(v.jsx)(f.a,{onClick:function(){i((function(e){return!e}))},children:o?Object(v.jsx)(Nt.a,{}):Object(v.jsx)(Vt.a,{})})]}),Object(v.jsx)(le.a,{in:o,children:Object(v.jsxs)(rt.a,{sx:Ht.content,children:[u!==mt.UserRole.STUDENT&&Object(v.jsxs)(Ge.a,{direction:"row",sx:Ht.expand_row,children:[Object(v.jsx)(ne.a,{variant:"body2",children:"Class code"}),Object(v.jsx)(ne.a,{variant:"body2",children:t.code})]}),(null===t||void 0===t?void 0:t.subject)&&Object(v.jsxs)(Ge.a,{direction:"row",sx:Ht.expand_row,children:[Object(v.jsx)(ne.a,{variant:"body2",children:"Subject"}),Object(v.jsx)(ne.a,{variant:"body2",children:t.subject})]}),(null===t||void 0===t?void 0:t.room)&&Object(v.jsxs)(Ge.a,{direction:"row",sx:Ht.expand_row,children:[Object(v.jsx)(ne.a,{variant:"body2",children:"Room"}),Object(v.jsx)(ne.a,{variant:"body2",children:t.room})]})]})})]})})},Jt=function(){return Object(v.jsx)("div",{children:"Classwork Tab"})},Zt=u(202),Xt={root:{width:"100vw",height:"100vh",bgcolor:"background.paper"},toolbar:{borderBottom:1,borderColor:"divider","& .MuiTypography-root":{fontWeight:500},"& .MuiButton-root":{ml:"auto",textTransform:"capitalize"}},container:{maxWidth:"700px"},form:{mt:3,p:3,border:1,borderColor:"divider",borderRadius:2,"& .MuiTypography-root":{fontSize:"24px",mb:1},"& .MuiTextField-root":{my:1}}},Kt=u(203),Qt=u.n(Kt),Yt=u(204),eu=u.n(Yt),tu=Xe.a({title:Xe.c().min(1,"Classroom Title should be of 1-100 characters length").max(100,"Classroom Title should be of 1-100 characters length").required("Classroom Title is required"),section:Xe.c().min(1,"Section should be of 1-50 characters length").max(50,"Section should be of 1-50 characters length"),subject:Xe.c().min(1,"Subject should be of 1-50 characters length").max(50,"Subject should be of 1-50 characters length"),room:Xe.c().min(1,"Room should be of 1-50 characters length").max(50,"Room should be of 1-50 characters length")}),uu=function(e){Object(Zt.a)(e);var t=r.a.useState(!1),u=Object(s.a)(t,2),n=u[0],a=u[1],o=Object(Ze.a)({initialValues:{title:"",room:"",section:"",subject:""},validateOnBlur:!0,validationSchema:tu,onSubmit:function(e){console.log("log ~ file: index.tsx ~ line 39 ~ ClassroomSetting ~ values",e)}});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(f.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){return a(!0)},color:"inherit",children:Object(v.jsx)(Qt.a,{sx:{fontSize:24}})}),Object(v.jsx)(te.a,{open:n,onClose:function(){return a(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(v.jsx)(xt.a,{in:n,timeout:300,children:Object(v.jsxs)(ue.a,{sx:Xt.root,children:[Object(v.jsxs)(l.a,{sx:Xt.toolbar,children:[Object(v.jsx)(f.a,{size:"large",edge:"start",color:"inherit","aria-label":"close modal",onClick:function(){return a(!1)},children:Object(v.jsx)(eu.a,{sx:{fontSize:20}})}),Object(v.jsx)(ne.a,{variant:"body1",children:"Classroom setting"}),Object(v.jsx)(Ne.a,{variant:"contained",children:"Save"})]}),Object(v.jsx)(Ft.a,{maxWidth:!1,sx:Xt.container,children:Object(v.jsxs)(ue.a,{sx:Xt.form,component:"form",noValidate:!0,autoComplete:"off",onSubmit:o.handleSubmit,children:[Object(v.jsx)(ne.a,{color:"primary",children:"Class Details"}),Object(v.jsx)(Je.a,{id:"title",name:"title",label:"Class name (required)",variant:"filled",fullWidth:!0,value:o.values.title,onChange:o.handleChange,error:o.touched.title&&Boolean(o.errors.title),helperText:o.touched.title&&o.errors.title}),Object(v.jsx)(Je.a,{id:"section",name:"section",label:"Section",variant:"filled",fullWidth:!0,onChange:o.handleChange,value:o.values.section,error:o.touched.section&&Boolean(o.errors.section),helperText:o.touched.section&&o.errors.section}),Object(v.jsx)(Je.a,{id:"subject",name:"subject",label:"Subject",variant:"filled",fullWidth:!0,onChange:o.handleChange,value:o.values.subject,error:o.touched.subject&&Boolean(o.errors.subject),helperText:o.touched.subject&&o.errors.subject}),Object(v.jsx)(Je.a,{id:"room",name:"room",label:"Room",variant:"filled",fullWidth:!0,onChange:o.handleChange,value:o.values.room,error:o.touched.room&&Boolean(o.errors.room),helperText:o.touched.room&&o.errors.room})]})})]})})})]})},nu={tabsContainer:{borderBottom:1,borderColor:"divider",flexGrow:1,display:"flex",justifyContent:"center",mt:{xs:0,md:-8},mb:"-2px","& .MuiTab-root":{height:64,justifyContent:"center",alignItems:"center",textTransform:"capitalize",fontWeight:"semibold",fontSize:14,px:3,transition:"background-color 400ms ease-in-out",":hover":{bgcolor:"grey.100"}}},link:{color:"text.primary",borderColor:"divider"},progressBar:{mt:"-3px"}},ru={container:{mt:4,p:"0 !important",maxWidth:"1000px"}},au=function(){var e=Object(O.f)().id,t=Object(O.e)(),u=fe(),n=new Mt,a=Y().userData,o=r.a.useState(!0),c=Object(s.a)(o,2),l=c[0],d=c[1],h=r.a.useState(0),j=Object(s.a)(h,2),D=j[0],b=j[1],C=r.a.useState(null),m=Object(s.a)(C,2),f=m[0],p=m[1],x=r.a.useState(mt.UserRole.STUDENT),F=Object(s.a)(x,2),A=F[0],g=F[1];return r.a.useEffect((function(){e&&n.getClassData(e).then((function(e){var t=e.data,u=e.myRole;p(t),g(u),d(!1)})).catch((function(e){u(Be({message:"Cannot find class",type:"error"})),d(!1),t("/not-found")}))}),[]),Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsxs)(B,{items:ze,toolbarComponents:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ue.a,{sx:nu.tabsContainer,children:Object(v.jsxs)(kt.a,{value:D,onChange:function(e,t){b(t)},"aria-label":"basic tabs example",children:[Object(v.jsx)(Tt.a,{label:"Stream",id:"one"}),Object(v.jsx)(Tt.a,{label:"Classwork",id:"two"}),Object(v.jsx)(Tt.a,{label:"People",id:"three"})]})}),l&&Object(v.jsx)(i.a,{sx:nu.progressBar})]}),children:[Object(v.jsx)(ne.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:Object(v.jsx)(qe.a,{underline:"hover",href:"/",sx:nu.link,children:f&&f.title})}),Object(v.jsxs)(ue.a,{children:[Object(v.jsx)(uu,{}),a&&Object(v.jsx)(ce,{fname:a.first_name,imageUrl:a.avatar})]})]}),!l&&f&&A&&Object(v.jsxs)(Ft.a,{maxWidth:!1,sx:ru.container,children:[Object(v.jsx)(de,{value:D,index:0,children:Object(v.jsx)($t,{role:A,classData:f})}),Object(v.jsx)(de,{value:D,index:1,children:Object(v.jsx)(Jt,{})}),Object(v.jsx)(de,{value:D,index:2,children:Object(v.jsx)(Gt,{role:A})})]})]})},ou={root:{width:"100vw",minHeight:"100vh",bgcolor:"background.paper","& .MuiTypography-root":{fontWeight:500},"& .MuiButton-root":{ml:"auto",textTransform:"capitalize"}},container:{maxWidth:"700px"},stack:{gap:3},form:{mt:3,p:3,border:1,borderColor:"divider",borderRadius:2,"& .MuiTextField-root":{my:1},"& .Mui-disabled .MuiInputBase-input":{bgcolor:"grey.200",fontWeight:500}},form_title:{fontSize:"24px",mb:1},form_note:{fontSize:"13px",mt:1,color:"warning.main",fontWeight:400,fontStyle:"italic"}},iu=function(e){Object(N.a)(u,e);var t=Object(V.a)(u);function u(){var e;Object(R.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).resource="users",e}return u}($),su=Xe.a({first_name:Xe.c().matches(wt,"Invalid name").required("Firstname is required"),last_name:Xe.c().matches(wt,"Invalid name").required("Lastname is rquired"),avatar:Xe.a().nullable(),student_id:Xe.c().matches(/^[ A-Za-z0-9_@-]*$/)}),cu=new iu,lu=function(){var e=Y(),t=e.userData,u=e.reload,n=fe(),a=Object(Ze.a)({initialValues:{first_name:(null===t||void 0===t?void 0:t.first_name)||"",last_name:(null===t||void 0===t?void 0:t.last_name)||"",avatar:(null===t||void 0===t?void 0:t.avatar)||"",student_id:(null===t||void 0===t?void 0:t.student_id)||""},validateOnBlur:!0,validationSchema:su,onSubmit:function(e){d(!0),console.log("log ~ file: index.tsx ~ line 39 ~ ClassroomSetting ~ values",e),t&&cu.update(t._id,e).then((function(){n(Be({message:"Update successfully"})),u(),d(!1)})).catch((function(e){409===e.statusCode?n(Be({message:"Student Id exists!",type:"error"})):n(Be({message:"Update failed!",type:"error"})),d(!1)}))}}),o=r.a.useState(!1),c=Object(s.a)(o,2),l=c[0],d=c[1];return Object(v.jsxs)(ue.a,{sx:ou.root,children:[Object(v.jsx)(B,{items:ze,toolbarComponents:Object(v.jsx)(v.Fragment,{children:l&&Object(v.jsx)(i.a,{})}),children:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ne.a,{variant:"body1",children:"Classroom setting"}),Object(v.jsx)(Ne.a,{variant:"contained",onClick:function(){a.submitForm()},children:"Save"})]})}),Object(v.jsx)(Ft.a,{maxWidth:!1,sx:ou.container,children:Object(v.jsxs)(ue.a,{sx:ou.form,component:"form",noValidate:!0,autoComplete:"off",onSubmit:a.handleSubmit,children:[Object(v.jsx)(ne.a,{sx:ou.form_title,color:"primary",children:"Profile"}),Object(v.jsx)(Je.a,{id:"email",name:"email",label:"Email",fullWidth:!0,disabled:!0,value:null===t||void 0===t?void 0:t.email}),Object(v.jsxs)(Ge.a,{direction:"row",sx:ou.stack,children:[Object(v.jsx)(Je.a,{id:"first_name",name:"first_name",label:"First name (required)",fullWidth:!0,disabled:null!==(null===t||void 0===t?void 0:t.google_id),value:a.values.first_name,onChange:a.handleChange,error:a.touched.first_name&&Boolean(a.errors.first_name),helperText:a.touched.first_name&&a.errors.first_name}),Object(v.jsx)(Je.a,{id:"last_name",name:"last_name",label:"Lastname (required)",fullWidth:!0,disabled:null!==(null===t||void 0===t?void 0:t.google_id),onChange:a.handleChange,value:a.values.last_name,error:a.touched.last_name&&Boolean(a.errors.last_name),helperText:a.touched.last_name&&a.errors.last_name})]}),Object(v.jsx)(Je.a,{id:"student_id",name:"student_id",label:"Student id",fullWidth:!0,value:a.values.student_id,onChange:a.handleChange,error:a.touched.student_id&&Boolean(a.errors.student_id),helperText:a.touched.student_id&&a.errors.student_id}),Object(v.jsx)(Je.a,{id:"avatar",name:"avatar",label:"Avatar URL",fullWidth:!0,disabled:null!=(null===t||void 0===t?void 0:t.google_id),onChange:a.handleChange,value:a.values.avatar||"",error:a.touched.avatar&&Boolean(a.errors.avatar),helperText:a.touched.avatar&&a.errors.avatar}),null!=(null===t||void 0===t?void 0:t.google_id)&&Object(v.jsx)(ne.a,{sx:ou.form_note,variant:"body2",children:"*You are linking your account with google, so please update your google account if you want to update your classroom account"})]})})]})},du={container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},paper:{px:{xs:2,sm:4},py:5,borderRadius:2,width:448,textAlign:"center"},paper_title:{fontWeight:600,textTransform:"uppercase",mt:2}},hu=function(){var e=Object(O.e)();return Object(v.jsx)(ue.a,{sx:du.root,children:Object(v.jsx)(xt.a,{appear:!0,in:!0,timeout:500,children:Object(v.jsx)(Ft.a,{sx:du.container,children:Object(v.jsxs)(At.a,{elevation:0,square:!0,sx:du.paper,children:[Object(v.jsx)(ne.a,{variant:"h1",children:"4\u26394"}),Object(v.jsx)(ne.a,{variant:"h4",sx:du.paper_title,children:"Page not found"}),Object(v.jsx)(m.a,{}),Object(v.jsx)(Ne.a,{onClick:function(){return e("/")},children:"Go back to Home page "})]})})})})},ju=function(e){Object(N.a)(u,e);var t=Object(V.a)(u);function u(){var e;Object(R.a)(this,u);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).resource="classes",e}return Object(U.a)(u,[{key:"joinClassroom",value:function(){var e=Object(G.a)(L.a.mark((function e(t,u,n){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={class_id:t,code:u,role:n},console.log("log ~ file: service.ts ~ line 13 ~ InvitationService ~ joinClassroom ~ data",r),mt.UserRole.STUDENT!==n){e.next=8;break}return e.next=5,this._repository.post("".concat(this.resource,"/join"),r);case 5:return e.abrupt("return",e.sent.data);case 8:return e.next=10,this._repository.post("".concat(this.resource,"/invite/accept"),r);case 10:return e.abrupt("return",e.sent.data);case 11:case"end":return e.stop()}}),e,this)})));return function(t,u,n){return e.apply(this,arguments)}}()}]),u}($),Du=function(){var e=fe(),t=new ju,u=Object(O.d)().search,n=Object(O.e)();return r.a.useEffect((function(){if(u){console.log("log ~ file: index.tsx ~ line 14 ~ React.useEffect ~ search",u);var r=new URLSearchParams(u),a=r.get("classId"),o=r.get("role"),i=r.get("code");t.joinClassroom(a,i,o).then((function(e){n("/classroom/"+a)})).catch((function(t){409===t.statusCode&&e(Be({message:"Invited email and your account email is not the same! Please login with the Email you received the invitation code",type:"error"}))}))}else n("/")}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(i.a,{}),"; Please wait a few moment"]})},bu=function(e){var t=e.children;return Object(v.jsx)(r.a.Fragment,{children:t})},Cu=function(e){var t=e.isAuthed,u=e.children;e.search;return t?Object(v.jsx)(bu,{children:u}):Object(v.jsx)(O.a,{to:"/auth/login?redirect="+encodeURIComponent(window.location.pathname+window.location.search)})},mu=function(e){var t=e.isAuthed,u=e.children,n=e.search,r=void 0===n?"":n,a=Te.getParameterByName("redirect",r);return t?Object(v.jsx)(O.a,{to:a||"/"}):Object(v.jsx)(bu,{children:u})},fu=function(e,t){return[{path:"/",element:Object(v.jsx)(Cu,{isAuthed:e,search:t,children:Object(v.jsx)(pt,{})})},{path:"/classroom/:id",element:Object(v.jsx)(Cu,{isAuthed:e,search:t,children:Object(v.jsx)(au,{})})},{path:"/profile",element:Object(v.jsx)(Cu,{isAuthed:e,search:t,children:Object(v.jsx)(lu,{})})},{path:"/classes/join",element:Object(v.jsx)(Cu,{isAuthed:e,search:t,children:Object(v.jsx)(Du,{})})},{path:"/auth",element:Object(v.jsx)(O.a,{to:"/auth/login"})},{path:"/auth/login",element:Object(v.jsx)(mu,{isAuthed:e,search:t,children:Object(v.jsx)(yt,{})})},{path:"/auth/register",element:Object(v.jsx)(mu,{isAuthed:e,search:t,children:Object(v.jsx)(_t,{})})},{path:"/not-found",element:Object(v.jsx)(bu,{children:Object(v.jsx)(hu,{})})},{path:"*",element:Object(v.jsx)(O.a,{to:"/not-found"})}]};var pu=function(){var e=fe(),t=Object(O.d)().search,u=pe((function(e){return e.message})),n=u.message,a=u.type,o=Y(),s=o.isAuthenticated,c=o.pending,l=Object(O.h)(fu(s,t));return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(be,{open:""!==n,msg:n,severity:a,handleClose:function(){return e(Ee())}}),Object(v.jsx)(w,{themeConfig:Ce,children:c?Object(v.jsx)(i.a,{}):l})]})},xu=function(e){e&&e instanceof Function&&u.e(3).then(u.bind(null,452)).then((function(t){var u=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;u(e),n(e),r(e),a(e),o(e)}))},Fu=(u(351),u(421)),Au=u(43),gu={loading:Ae,message:ye,theme:_e};function Ou(e){return Object(Au.b)(Object(S.a)(Object(S.a)({},gu),e))}var vu=Object(Au.d)(Ou({}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());vu.asyncReducers={};var Bu=u(54);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(Q,{children:Object(v.jsxs)(me.a,{store:vu,children:[Object(v.jsx)(Fu.a,{}),Object(v.jsx)(Bu.a,{children:Object(v.jsx)(pu,{})})]})})}),document.getElementById("root")),xu()},38:function(e,t,u){"use strict";var n=u(175);u.o(n,"UserRole")&&u.d(t,"UserRole",(function(){return n.UserRole}));var r=u(178);u.o(r,"UserRole")&&u.d(t,"UserRole",(function(){return r.UserRole}));var a=u(181);u.o(a,"UserRole")&&u.d(t,"UserRole",(function(){return a.UserRole}))}},[[352,1,2]]]);
//# sourceMappingURL=main.f9cc114e.chunk.js.map