{"version":3,"sources":["common/interfaces/auth/index.ts","common/interfaces/users/index.ts","common/interfaces/classes/index.ts","common/interfaces/classes/classroomUser.interface.ts","components/navbar/style.tsx","components/navbar/index.tsx","components/context/ThemeContext.tsx","services/repository/index.ts","common/constants/index.ts","components/context/Auth/jwt.service.ts","services/base.service.ts","components/context/Auth/google.service.ts","components/context/Auth/index.tsx","components/modal/style.ts","components/modal/SimpleDialog.tsx","components/ProfileBtn/index.tsx","components/TabPanel/index.tsx","components/Snackbar/index.tsx","configs/theme.config.tsx","store/hooks.ts","store/slices/loading.slice.ts","store/slices/message.slice.ts","store/slices/theme.slice.ts","common/utils.ts","configs/drawer.config.tsx","pages/Dashboard/subcomponents/AddBtn/style.ts","pages/Dashboard/subcomponents/AddBtn/Disclaimer.tsx","pages/Dashboard/subcomponents/AddBtn/CreateForm.tsx","pages/Dashboard/subcomponents/AddBtn/JoinForm.tsx","pages/Dashboard/subcomponents/AddBtn/index.tsx","pages/Dashboard/subcomponents/ClassCard/style.tsx","pages/Dashboard/subcomponents/ClassCard/index.tsx","pages/Dashboard/style.ts","pages/Dashboard/service.ts","pages/Dashboard/index.tsx","pages/Auth/style.ts","assets/images/gg.svg","pages/Auth/Login.tsx","common/constants/regex.ts","pages/Auth/Register.tsx","pages/Classroom/service.ts","pages/Classroom/subcomponents/People/style.ts","pages/Classroom/subcomponents/People/InviteForm.tsx","pages/Classroom/subcomponents/People/index.tsx","pages/Classroom/subcomponents/Stream/style.ts","pages/Classroom/subcomponents/Stream/index.tsx","components/hooks/useCopyToClipboard.tsx","pages/Classroom/subcomponents/Classwork/index.tsx","pages/Classroom/subcomponents/ClassroomSetting/style.ts","pages/Classroom/subcomponents/ClassroomSetting/index.tsx","pages/Classroom/style.ts","pages/Classroom/index.tsx","pages/Profile/style.ts","pages/Profile/service.ts","pages/Profile/index.tsx","pages/Errors/style.ts","pages/Errors/NotFound.tsx","pages/InvitationPage/service.ts","pages/InvitationPage/index.tsx","pages/route.tsx","App.tsx","reportWebVitals.ts","store/index.ts","index.tsx","common/interfaces/index.ts"],"names":["UserRole","navbarSx","bgcolor","color","borderBottom","borderColor","drawerSx","list","width","px","btnItem","fontWeight","fontSize","height","textItem","letterSpacing","Navbar","children","toolbarComponents","items","trigger","useScrollTrigger","disableHysteresis","threshold","React","drawer","showDrawer","navigate","useNavigate","toggleDrawer","open","event","type","key","Drawer","anchor","onClose","List","sx","role","onKeyDown","ListItemButton","onClick","ListItemIcon","HomeOutlined","ListItemText","primary","Divider","Settings","AppBar","elevation","Toolbar","IconButton","size","edge","aria-label","Menu","ThemeContext","themeConfig","theme","createTheme","ThemeProvider","baseURL","process","repository","axios","create","withCredentials","JWT_SESSION_KEY","JWT_REFRESH_SESSION_KEY","JwtAuthService","isAuthTokenValid","access_token","decoded","jwtDecode","currentTime","Date","now","exp","console","warn","_setSession","refresh_token","localStorage","setItem","defaults","headers","common","removeItem","loginCallback","logoutCallback","getItem","interceptors","response","use","err","status","config","__isRetryRequest","Promise","reject","data","this","body","resolve","post","then","catch","token","get","_id","defaultQuery","page","per_page","sort_by","sort_order","BaseApiService","resource","_repository","a","query","objToQuery","id","obj","put","delete","URLSearchParams","toString","GoogleValidateService","token_id","defaultValue","signIn","signInWithGG","register","logOut","reload","isAuthenticated","pending","userData","undefined","AuthContext","createContext","AuthProvider","useState","infor","setInfor","isAuthen","setIsAuthen","setIsPending","jwtService","ggService","checkJWT","init","onAutoLogIn","onAutoLogOut","useEffect","getUserData","error","defaultProps","logIn","validateToken","res","Provider","value","useAuth","useContext","simpleDialogStyle","root","position","top","left","transform","borderRadius","boxShadow","p","pb","title","SimpleDialog","handleClose","props","Modal","aria-labelledby","aria-describedby","Box","Typography","gutterBottom","ProfileBtn","fname","imageUrl","anchorEl","setAnchorEl","aria-controls","aria-haspopup","currentTarget","Avatar","alt","src","charAt","MenuListProps","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","MenuItem","TabPanel","index","other","Collapse","in","timeout","NotificationSnackbar","msg","severity","Snackbar","autoHideDuration","TransitionComponent","Slide","direction","minWidth","Alert","mainTheme","palette","typography","fontFamily","join","useAppDispatch","useDispatch","useAppSelector","useSelector","loadingSlice","createSlice","name","initialState","isLoading","reducers","showLoading","state","action","payload","loadingReducer","actions","reducer","message","messageSlice","showMessage","hideMessage","messageReducer","themeSlice","setTheme","getTheme","themeReducer","Utils","mainArr","searchText","toLowerCase","filter","itemObj","searchInObj","prop","hasOwnProperty","searchInString","Array","isArray","searchInArray","arr","includes","S4","Math","floor","random","substring","item","array","indexOf","push","splice","text","replace","t","o","result","findById","hue","mainColors","length","url","results","RegExp","exec","decodeURIComponent","drawerItemConfigs","icon","href","Event","RuleFolderOutlined","FactCheckOutlined","disclaimerStyle","checkboxContainer","display","flexDirection","my","justifyContent","formStyle","container","mb","Disclaimer","onSubmit","checkbox","setCheckbox","pt","variant","component","Link","Checkbox","checked","onChange","target","Stack","spacing","Button","disabled","validationSchema","yup","min","max","required","section","subject","room","CreateForm","formik","useFormik","initialValues","values","noValidate","autoComplete","handleSubmit","TextField","label","fullWidth","handleChange","touched","errors","helperText","marginTop","code","matches","JoinForm","validateOnChange","AddBtn","handleCreateClass","handleJoinClass","disclaimerModal","showDisclamer","createForm","showCreateForm","joinForm","showJoinForm","hideAll","form","cardSx","card","maxWidth","border","header","flexWrap","whiteSpace","alignItems","cursor","textDecoration","textOverflow","overflow","header_title","header_section","borderTop","ClassCard","image","Card","CardMedia","CardContent","minHeight","CardActions","bodyContainer","cardContainer","gap","mt","ClassroomService","joinData","service","Dashboard","dispatch","loading","setLoading","classes","setClasses","getClassList","Fragment","LinearProgress","flexGrow","d","prv","joinClassRoom","STUDENT","first_name","avatar","map","c","sharedStyleSx","paper","xs","sm","py","textAlign","signUpContainer","fontStyle","divider","email","password","LoginPage","search","useLocation","loginWithGg","useGoogleLogin","clientId","cookiePolicy","loginHint","onSuccess","tokenId","e","Grow","appear","Container","Paper","square","endIcon","CircularProgress","flexItem","startIcon","GoogleIcon","NAME_REGEX","last_name","passwordConfirm","oneOf","RegisterPage","validateOnBlur","bodyData","classId","users","getOne","myRole","peopleTabSx","InviteForm","PeopleTab","useParams","setData","inviteTeacher","showTeacherInviteForm","inviteStudent","showStudentInviteForm","fetchData","getClassUsers","submitInvite","invitedRole","submitInvitation","class_id","PersonAddOutlined","u","checkRole","idx","ListItem","ListItemAvatar","user_id","secondary","Tooltip","Mail","TEACHER","bannerSx","card_stack","mx","md","content","expand_row","StreamTab","classData","copiedText","setCopiedText","navigator","clipboard","writeText","useCopyToClipboard","copy","details","showDetails","prvState","Info","InfoOutlined","window","location","origin","ClassworkTab","settingModalSx","toolbar","ml","textTransform","ClassroomSetting","modal","showModal","navSx","tabsContainer","transition","link","progressBar","mainSx","ClassroomBoard","classService","tabValue","setTabValue","setClassData","setMyRole","getClassData","Tabs","newValue","Tab","underline","profileSx","stack","form_title","form_note","UserService","nullable","student_id","UserProfile","update","statusCode","submitForm","google_id","errorPageSx","paper_title","NotFoundPage","InvitationService","InvitePage","params","joinClassroom","Wrapper","AuthWrapped","isAuthed","pathname","to","encodeURIComponent","NotAuthWrapped","getParameterByName","appRoutes","path","element","Classroom","Profile","InvitationPage","Login","Register","NotFound","App","routes","useRoutes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","staticReducer","createReducers","asyncReducers","combineReducers","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.15a3606f.chunk.js","sourcesContent":["export * from './auth.interface';\r\nexport * from './googleAuth.interface';\r\n","export * from './users.interface';\r\nexport * from './updateUser.interface';\r\n","export * from './classroom.interface';\r\nexport * from './invite.interface';\r\nexport * from './classroomUser.interface';\r\n","import { User } from './../users/users.interface';\r\nexport interface ClassroomUser {\r\n  user_id: User;\r\n  status: 'ACTIVATED' | 'INACTIVATED';\r\n  role: UserRole;\r\n  invite_code?: string;\r\n}\r\n\r\nexport enum UserRole {\r\n  TEACHER = 'TEACHER',\r\n  STUDENT = 'STUDENT',\r\n  ADMIN = 'ADMIN',\r\n}\r\n","import { SxType, MultipleSxTypes } from 'common/type';\r\nexport const navbarSx: SxType = {\r\n  bgcolor: 'background.paper',\r\n  color: 'text.primary',\r\n  borderBottom: 1,\r\n  borderColor: 'divider',\r\n};\r\n\r\nexport const drawerSx: MultipleSxTypes = {\r\n  list: {\r\n    width: 300,\r\n    px: 1,\r\n  },\r\n  btnItem: {\r\n    fontWeight: 500,\r\n    fontSize: 16,\r\n    height: 56,\r\n  },\r\n  textItem: {\r\n    height: 40,\r\n    '& .MuiTypography-root': {\r\n      fontWeight: 500,\r\n      fontSize: 14,\r\n      letterSpacing: '.5px',\r\n    },\r\n  },\r\n};\r\n","import * as React from 'react';\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport useScrollTrigger from '@mui/material/useScrollTrigger';\r\nimport { Divider, Drawer, IconButton, List, ListItemButton, ListItemIcon, ListItemText } from '@mui/material';\r\nimport { NavbarProps } from './type';\r\nimport { drawerSx, navbarSx } from './style';\r\nimport { Menu } from '@mui/icons-material';\r\nimport { HomeOutlined, Settings } from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router';\r\n\r\nexport const Navbar = ({ children, items, toolbarComponents }: NavbarProps) => {\r\n  const trigger = useScrollTrigger({\r\n    disableHysteresis: true,\r\n    threshold: 0,\r\n  });\r\n  const [drawer, showDrawer] = React.useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n\r\n  const toggleDrawer = (open: boolean) => (event: React.KeyboardEvent | React.MouseEvent) => {\r\n    if (\r\n      event.type === 'keydown' &&\r\n      ((event as React.KeyboardEvent).key === 'Tab' || (event as React.KeyboardEvent).key === 'Shift')\r\n    ) {\r\n      return;\r\n    }\r\n    showDrawer(open);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Drawer anchor={'left'} open={drawer} onClose={toggleDrawer(false)}>\r\n        <List sx={drawerSx.list} role=\"presentation\" onKeyDown={toggleDrawer(false)}>\r\n          <ListItemButton sx={drawerSx.btnItem} onClick={() => navigate('/')}>\r\n            <ListItemIcon>\r\n              <HomeOutlined />\r\n            </ListItemIcon>\r\n            <ListItemText primary={'Classes'} />\r\n          </ListItemButton>\r\n          {/* <Divider />\r\n          <ListItem>\r\n            <ListItemText sx={drawerSx.textItem} primary=\"Enrolled\" />\r\n          </ListItem>\r\n          <Divider />\r\n          <ListItem>\r\n            <ListItemText sx={drawerSx.textItem} primary=\"Teaching\" />\r\n          </ListItem> */}\r\n          <Divider />\r\n          <ListItemButton sx={drawerSx.btnItem} onClick={() => navigate('/profile')}>\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            <ListItemText primary={'Profile Setting'} />\r\n          </ListItemButton>\r\n        </List>\r\n      </Drawer>\r\n      <AppBar elevation={trigger ? 4 : 0} sx={navbarSx}>\r\n        <Toolbar>\r\n          <IconButton size=\"large\" edge=\"start\" color=\"inherit\" aria-label=\"open drawer\" onClick={toggleDrawer(true)}>\r\n            <Menu />\r\n          </IconButton>\r\n          {children}\r\n        </Toolbar>\r\n        {toolbarComponents}\r\n      </AppBar>\r\n      <Toolbar />\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import { createTheme } from '@mui/material';\r\nimport { ThemeProvider } from '@mui/system';\r\nimport React from 'react';\r\n\r\ntype ThemeCtxProps = {\r\n  children: any;\r\n  themeConfig: any;\r\n};\r\n\r\nexport const ThemeContext = ({ children, themeConfig }: ThemeCtxProps) => {\r\n  const theme = createTheme(themeConfig);\r\n\r\n  return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\r\n};\r\n","import axios from 'axios';\r\n\r\nconst baseURL = `${process.env.REACT_APP_BACKEND_DOMAIN}/${process.env.REACT_APP_BACKEND_API_END_POINT}/${process.env.REACT_APP_API_VERSION}`;\r\n\r\nexport const repository = axios.create({\r\n  baseURL,\r\n  withCredentials: true,\r\n});\r\n","export const JWT_SESSION_KEY = 'jwt_access_token';\r\nexport const JWT_REFRESH_SESSION_KEY = 'jwt_refresh_token';\r\n\r\nexport const ROLE_STUDENT = 'STUDENT';\r\nexport const ROLE_TEACHER = 'TEACHER';\r\n","import { repository } from 'services/repository';\r\nimport { JWT_SESSION_KEY, JWT_REFRESH_SESSION_KEY } from 'common/constants';\r\nimport { AuthData, AuthResponse } from 'common/interfaces';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nclass JwtAuthService {\r\n  init(loginCallback: VoidFunction, logoutCallback: VoidFunction): void {\r\n    let access_token = localStorage.getItem(JWT_SESSION_KEY);\r\n    let refresh_token = localStorage.getItem(JWT_REFRESH_SESSION_KEY);\r\n\r\n    repository.interceptors.response.use(\r\n      (response) => response,\r\n      (err) => {\r\n        if (err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\r\n          this._setSession(null, null); //Reset session\r\n          logoutCallback(); // Callback\r\n        }\r\n        return Promise.reject(err.response.data);\r\n      },\r\n    );\r\n\r\n    if (this.isAuthTokenValid(access_token)) {\r\n      this._setSession(access_token, refresh_token); // SET for axios.default.header\r\n      loginCallback();\r\n    } else {\r\n      //TODO: Make use of Refresh token\r\n      this._setSession(null, null); //Reset session\r\n      logoutCallback();\r\n    }\r\n  }\r\n\r\n  logIn(body: AuthData): Promise<AuthResponse> {\r\n    return new Promise((resolve, reject) => {\r\n      //TODO: Check again\r\n      repository\r\n        .post(`/auth/login`, body)\r\n        .then((response: any) => {\r\n          if (response.data) {\r\n            //eslint disable\r\n            const access_token = response.data.access_token;\r\n            const refresh_token = response.data.refresh_token;\r\n            this._setSession(access_token, refresh_token);\r\n            resolve(response.data);\r\n          }\r\n        })\r\n        .catch((response) => reject(response));\r\n    });\r\n  }\r\n\r\n  register(body: AuthData): Promise<AuthResponse> {\r\n    return new Promise((resolve, reject) => {\r\n      repository\r\n        .post(`/auth/register`, body)\r\n        .then((response: any) => {\r\n          if (response) {\r\n            // TODO: login after registered ?\r\n            const access_token = response.data.access_token;\r\n            const refresh_token = response.data.refresh_token;\r\n            this._setSession(access_token, refresh_token);\r\n\r\n            resolve(response.data);\r\n          }\r\n        })\r\n        .catch((response) => reject(response));\r\n    });\r\n  }\r\n\r\n  logOut(): Promise<any> {\r\n    const refresh_token: any = localStorage.getItem(JWT_REFRESH_SESSION_KEY);\r\n    return new Promise((resolve, reject) => {\r\n      repository\r\n        .post(`/auth/logout`, { refresh_token })\r\n        .then((response: any) => {\r\n          this._setSession(null, null);\r\n\r\n          resolve(response.data);\r\n        })\r\n        .catch((response) => reject(response));\r\n    });\r\n  }\r\n\r\n  getUserData(): Promise<any> {\r\n    //TODO: change api here\r\n    const token: any = localStorage.getItem(JWT_SESSION_KEY);\r\n    const decoded: any = jwtDecode(token);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      repository\r\n        .get(`/users/${decoded?._id}`)\r\n        .then((response: any) => {\r\n          if (response.data) {\r\n            resolve(response.data);\r\n          }\r\n        })\r\n        .catch((response) => reject(response));\r\n    });\r\n  }\r\n\r\n  isAuthTokenValid = (access_token: string | null): boolean => {\r\n    if (!access_token) {\r\n      return false;\r\n    }\r\n    const decoded: any = jwtDecode(access_token);\r\n    const currentTime = Date.now() / 1000;\r\n    if (decoded.exp < currentTime) {\r\n      console.warn('access token expired');\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  //HELPER FUNCTIONS\r\n  _setSession = (access_token: string | null, refresh_token: string | null): void => {\r\n    if (access_token) {\r\n      localStorage.setItem(JWT_SESSION_KEY, access_token);\r\n      repository.defaults.headers.common['Authorization'] = 'Bearer ' + access_token;\r\n    } else {\r\n      localStorage.removeItem(JWT_SESSION_KEY);\r\n      delete repository.defaults.headers.common['Authorization'];\r\n    }\r\n\r\n    if (refresh_token) {\r\n      localStorage.setItem(JWT_REFRESH_SESSION_KEY, refresh_token);\r\n    } else localStorage.removeItem(JWT_REFRESH_SESSION_KEY);\r\n  };\r\n}\r\n\r\nexport default JwtAuthService;\r\n","import axios, { AxiosRequestConfig } from 'axios';\r\nimport { repository } from './repository';\r\n\r\nexport type PaginationQuery = {\r\n  page: number;\r\n  per_page: number;\r\n  sort_by: 'created_at' | 'updated_at';\r\n  sort_order: 'asc' | 'desc';\r\n};\r\n\r\nconst defaultQuery: PaginationQuery = {\r\n  page: 1,\r\n  per_page: 10,\r\n  sort_by: 'created_at',\r\n  sort_order: 'desc',\r\n};\r\n\r\nexport class BaseApiService<RequestType, ResponseType> {\r\n  resource: string = '';\r\n  _repository = repository;\r\n\r\n  async get(): Promise<ResponseType[]> {\r\n    return (await this._repository.get(`${this.resource} `)).data;\r\n  }\r\n\r\n  async getWithPagination(query: Partial<PaginationQuery>): Promise<ResponseType[]> {\r\n    return (await this._repository.get(`${this.resource}/${objToQuery({ ...defaultQuery, ...query })}`)).data;\r\n  }\r\n\r\n  async getOne(id: string): Promise<ResponseType> {\r\n    return (await this._repository.get(`${this.resource}/${id}`)).data;\r\n  }\r\n\r\n  async getWithCustomQuery(obj: Object): Promise<ResponseType[]> {\r\n    return (await this._repository.get(`${this.resource}${objToQuery(obj)}`)).data;\r\n  }\r\n\r\n  async create(body: RequestType): Promise<any> {\r\n    return (await this._repository.post(`${this.resource}`, body)).data;\r\n  }\r\n\r\n  async update(id: string, data: RequestType): Promise<any> {\r\n    return (await this._repository.put(`${this.resource}/${id}`, data)).data;\r\n  }\r\n\r\n  async delete(id: string): Promise<any> {\r\n    return (await this._repository.delete(`${this.resource}/${id}`)).data;\r\n  }\r\n\r\n  async customRequest(config: AxiosRequestConfig<any>): Promise<any> {\r\n    return axios(config);\r\n  }\r\n}\r\n\r\n// HElper function\r\nconst objToQuery = (obj: any): string => {\r\n  return new URLSearchParams(obj).toString();\r\n};\r\n","import { BaseApiService } from 'services';\r\nimport { GoogleValidationData, AuthResponse } from 'common/interfaces';\r\nimport { JWT_REFRESH_SESSION_KEY, JWT_SESSION_KEY } from 'common/constants';\r\n\r\nclass GoogleValidateService extends BaseApiService<GoogleValidationData, AuthResponse> {\r\n  resource = '/auth/google-activate';\r\n\r\n  async validateToken(token: string): Promise<AuthResponse> {\r\n    const body: GoogleValidationData = { token_id: token };\r\n    return new Promise((resolve, reject) => {\r\n      //TODO: Check again\r\n      this._repository\r\n        .post(`${this.resource}`, body)\r\n        .then((response: any) => {\r\n          if (response.data) {\r\n            //eslint disable\r\n            const access_token = response.data.access_token;\r\n            const refresh_token = response.data.refresh_token;\r\n            this._setSession(access_token, refresh_token);\r\n            resolve(response.data);\r\n          }\r\n        })\r\n        .catch((response) => reject(response));\r\n    });\r\n  }\r\n\r\n  //HELPER FUNCTIONS\r\n  _setSession = (access_token: string | null, refresh_token: string | null) => {\r\n    if (access_token) {\r\n      localStorage.setItem(JWT_SESSION_KEY, access_token);\r\n      this._repository.defaults.headers.common['Authorization'] = 'Bearer ' + access_token;\r\n    } else {\r\n      localStorage.removeItem(JWT_SESSION_KEY);\r\n      delete this._repository.defaults.headers.common['Authorization'];\r\n    }\r\n\r\n    if (refresh_token) {\r\n      localStorage.setItem(JWT_REFRESH_SESSION_KEY, refresh_token);\r\n    } else localStorage.removeItem(JWT_REFRESH_SESSION_KEY);\r\n  };\r\n}\r\n\r\nexport default GoogleValidateService;\r\n","import { AuthData, AuthResponse, User } from 'common/interfaces';\r\nimport { repository } from 'services/repository';\r\nimport JwtAuthService from './jwt.service';\r\nimport GoogleValidateService from './google.service';\r\n\r\nimport React from 'react';\r\n\r\nexport type AuthProps = {\r\n  signIn: (data: AuthData) => Promise<any>;\r\n  signInWithGG: (tokenId: string) => Promise<any>;\r\n  register: (data: AuthData) => Promise<any>;\r\n  logOut: () => void;\r\n  reload: () => void;\r\n  isAuthenticated: boolean;\r\n  pending: boolean;\r\n  userData: User | undefined;\r\n};\r\n\r\nconst defaultValue: AuthProps = {\r\n  signIn: () => new Promise(() => {}),\r\n  signInWithGG: () => new Promise(() => {}),\r\n  register: () => new Promise(() => {}),\r\n  logOut: () => {},\r\n  reload: () => {},\r\n  isAuthenticated: false,\r\n  pending: true, //Auth in pending\r\n  userData: undefined,\r\n};\r\n\r\nconst AuthContext = React.createContext<AuthProps>(defaultValue);\r\n\r\nexport const AuthProvider = ({ children }: { children: any }) => {\r\n  const [infor, setInfor] = React.useState<User | undefined>(undefined);\r\n  const [isAuthen, setIsAuthen] = React.useState<boolean>(false);\r\n  const [pending, setIsPending] = React.useState<boolean>(true);\r\n  const jwtService = new JwtAuthService();\r\n  const ggService = new GoogleValidateService();\r\n\r\n  const checkJWT = () => {\r\n    jwtService.init(onAutoLogIn, onAutoLogOut);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    ('Check Auth');\r\n    repository.get('/', { withCredentials: true }); // Send get request to get CSRF token once site is visited.\r\n    checkJWT();\r\n  }, []);\r\n\r\n  const onAutoLogIn = () => {\r\n    ('~ onAutoLogIn');\r\n    jwtService\r\n      .getUserData()\r\n      .then((data: any) => {\r\n        setIsAuthen(true);\r\n        setIsPending(false); //Show that the api has been processed\r\n        setInfor(data);\r\n      })\r\n      .catch((err: any) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const onAutoLogOut = () => {\r\n    ('~ onAutoLogOut');\r\n    setIsAuthen(false);\r\n    setIsPending(false); //Show that the api has been processed\r\n    setInfor(undefined);\r\n  };\r\n\r\n  const logIn = (body: AuthData) => {\r\n    return new Promise((resolve, reject) => {\r\n      jwtService\r\n        .logIn(body)\r\n        .then((response: any) => {\r\n          onAutoLogIn();\r\n          resolve(response);\r\n        })\r\n        .catch((err) => reject(err));\r\n    });\r\n  };\r\n\r\n  const loginWithGoogle = (token: string) => {\r\n    return new Promise((resolve, reject) => {\r\n      ggService\r\n        .validateToken(token)\r\n        .then((response: AuthResponse) => {\r\n          setIsAuthen(true);\r\n          setIsPending(false); //Show that the api has been processed\r\n          setInfor(response.data);\r\n          resolve(response);\r\n        })\r\n        .catch((err: any) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n\r\n  const register = (body: AuthData) => {\r\n    return new Promise((resolve, reject) => {\r\n      jwtService\r\n        .register(body)\r\n        .then(() => {\r\n          onAutoLogIn();\r\n          resolve(body);\r\n        })\r\n        .catch((res) => {\r\n          reject(res);\r\n        });\r\n    });\r\n  };\r\n\r\n  const logOut = () => {\r\n    setIsAuthen(false);\r\n    return jwtService.logOut().then(onAutoLogOut);\r\n  };\r\n\r\n  const defaultProps: AuthProps = {\r\n    ...defaultValue,\r\n    signIn: logIn,\r\n    signInWithGG: loginWithGoogle,\r\n    register: register,\r\n    logOut: logOut,\r\n    reload: checkJWT,\r\n    isAuthenticated: isAuthen,\r\n    pending: pending,\r\n    userData: infor,\r\n  };\r\n\r\n  return <AuthContext.Provider value={defaultProps}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nexport const useAuth = () => {\r\n  return React.useContext(AuthContext);\r\n};\r\n","export const simpleDialogStyle = {\r\n  root: {\r\n    position: 'absolute' as 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    bgcolor: 'background.paper',\r\n    borderRadius: 2,\r\n    boxShadow: 24,\r\n    p: 3,\r\n    pb: 1,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n};\r\n","import { Modal, Box, Typography } from '@mui/material';\r\nimport React from 'react';\r\nimport { simpleDialogStyle } from './style';\r\nimport { SimpleDialogPropsType } from './type';\r\n\r\nexport const SimpleDialog = ({ open, handleClose, title, children, ...props }: SimpleDialogPropsType) => {\r\n  return (\r\n    <Modal\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"modal-modal-title\"\r\n      aria-describedby=\"modal-modal-description\"\r\n    >\r\n      <Box sx={simpleDialogStyle.root} {...props}>\r\n        <Typography id=\"modal-modal-title\" sx={simpleDialogStyle.title} gutterBottom>\r\n          {title}\r\n        </Typography>\r\n        {children}\r\n      </Box>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Avatar, IconButton, Menu, MenuItem } from '@mui/material';\r\nimport { useAuth } from '../context';\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ProfileBtnProps } from './type';\r\n\r\nexport const ProfileBtn = ({ fname, imageUrl }: ProfileBtnProps) => {\r\n  const { logOut } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleProfileClicked = () => {\r\n    setAnchorEl(null);\r\n    navigate('/profile');\r\n  };\r\n\r\n  const handleLogOut = () => {\r\n    setAnchorEl(null);\r\n    logOut();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        size=\"large\"\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleMenu}\r\n        color=\"inherit\"\r\n      >\r\n        {imageUrl && imageUrl !== '' ? (\r\n          <Avatar sx={{ width: 32, height: 32 }} alt={fname} src={imageUrl} />\r\n        ) : (\r\n          <Avatar sx={{ width: 32, height: 32, bgcolor: 'primary.main' }}>{fname.charAt(0)}</Avatar>\r\n        )}\r\n      </IconButton>\r\n      <Menu\r\n        id=\"menu-profile\"\r\n        anchorEl={anchorEl}\r\n        MenuListProps={{\r\n          'aria-labelledby': 'profile-button',\r\n        }}\r\n        open={Boolean(anchorEl)}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        onClose={() => setAnchorEl(null)}\r\n        keepMounted\r\n      >\r\n        <MenuItem onClick={handleProfileClicked}>Profile</MenuItem>\r\n        <MenuItem onClick={handleLogOut}>Logout</MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n","import { Collapse } from '@mui/material';\r\nimport React from 'react';\r\nimport { TabPanelProps } from './type';\r\n\r\nexport const TabPanel = ({ children, value, index, ...other }: TabPanelProps) => {\r\n  return (\r\n    <Collapse in={value === index} timeout={500}>\r\n      <div role=\"tabpanel\" id={`tabpanel-${index}`} aria-labelledby={`-tab-${index}`} {...other}>\r\n        {value === index && children}\r\n      </div>\r\n    </Collapse>\r\n  );\r\n};\r\n","import { Alert, Slide, Snackbar } from '@mui/material';\r\nimport React from 'react';\r\nimport { SnackbarProps } from './type';\r\n\r\nexport const NotificationSnackbar = ({ open, msg, severity = 'success', handleClose }: SnackbarProps) => {\r\n  return (\r\n    <Snackbar\r\n      open={open}\r\n      autoHideDuration={4000}\r\n      onClose={handleClose}\r\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      TransitionComponent={(props) => <Slide {...props} direction=\"up\" />}\r\n      sx={{ minWidth: '300px' }}\r\n    >\r\n      <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\r\n        {msg}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n","export const mainTheme = {\r\n  palette: {},\r\n  typography: {\r\n    fontFamily: [\r\n      'Poppins',\r\n      'BlinkMacSystemFont',\r\n      '\"Segoe UI\"',\r\n      'Roboto',\r\n      '\"Helvetica Neue\"',\r\n      'Arial',\r\n      'sans-serif',\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(','),\r\n  },\r\n};\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport type { RootState, AppDispatch } from \"./\";\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// Define a type for the slice state\r\ninterface LoadingState {\r\n  isLoading: boolean;\r\n}\r\n\r\n// Define the initial state using that type\r\nconst initialState: LoadingState = {\r\n  isLoading: false,\r\n};\r\n\r\nexport const loadingSlice = createSlice({\r\n  name: 'loading',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    showLoading: (state, action: PayloadAction<boolean>) => ({\r\n      isLoading: action.payload,\r\n    }),\r\n  },\r\n});\r\n\r\nexport const { showLoading } = loadingSlice.actions;\r\n\r\nexport const loadingReducer = loadingSlice.reducer;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// Define a type for the slice state\r\ninterface MessageState {\r\n  message: string;\r\n  type?: 'warning' | 'info' | 'error' | 'success';\r\n}\r\n\r\n// Define the initial state using that type\r\nconst initialState: MessageState = {\r\n  message: '',\r\n  type: 'success',\r\n};\r\n\r\nexport const messageSlice = createSlice({\r\n  name: 'message',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    showMessage: (state, action: PayloadAction<MessageState>) => ({\r\n      ...initialState,\r\n      ...action.payload,\r\n    }),\r\n    hideMessage: (state) => initialState,\r\n  },\r\n});\r\n\r\nexport const { showMessage, hideMessage } = messageSlice.actions;\r\nexport const messageReducer = messageSlice.reducer;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\n// Define a type for the slice state\r\ninterface ThemeState {\r\n  theme: string;\r\n}\r\n\r\n// Define the initial state using that type\r\nconst initialState: ThemeState = {\r\n  theme: 'light',\r\n};\r\n\r\nexport const themeSlice = createSlice({\r\n  name: 'theme',\r\n  // `createSlice` will infer the state type from the `initialState` argument\r\n  initialState,\r\n  reducers: {\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    setTheme: (state, action: PayloadAction<ThemeState>) => {\r\n      const theme = action.payload.theme;\r\n      localStorage.setItem('theme', theme);\r\n      return {\r\n        theme: theme,\r\n      };\r\n    },\r\n    getTheme: (state) => ({\r\n      theme: localStorage.getItem('theme') || 'light',\r\n    }),\r\n  },\r\n});\r\n\r\nexport const { setTheme, getTheme } = themeSlice.actions;\r\nexport const themeReducer = themeSlice.reducer;\r\n","class Utils {\r\n  static filterArrayByString(mainArr: any[], searchText: string): any[] {\r\n    if (searchText === '') {\r\n      return mainArr;\r\n    }\r\n\r\n    searchText = searchText.toLowerCase();\r\n\r\n    return mainArr.filter((itemObj) => {\r\n      return this.searchInObj(itemObj, searchText);\r\n    });\r\n  }\r\n\r\n  static searchInObj(itemObj: Record<string, any>, searchText: string): boolean {\r\n    for (const prop in itemObj) {\r\n      if (!itemObj.hasOwnProperty(prop)) {\r\n        continue;\r\n      }\r\n\r\n      const value = itemObj[prop];\r\n\r\n      if (typeof value === 'string') {\r\n        if (this.searchInString(value, searchText)) {\r\n          return true;\r\n        }\r\n      } else if (Array.isArray(value)) {\r\n        if (this.searchInArray(value, searchText)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if (typeof value === 'object') {\r\n        if (this.searchInObj(value, searchText)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static searchInArray(arr: any[], searchText: string): boolean {\r\n    for (const value of arr) {\r\n      if (typeof value === 'string') {\r\n        if (this.searchInString(value, searchText)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      if (typeof value === 'object') {\r\n        if (this.searchInObj(value, searchText)) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static searchInString(value: string, searchText: string): boolean {\r\n    return value.toLowerCase().includes(searchText);\r\n  }\r\n\r\n  static generateGUID(): string {\r\n    function S4() {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    }\r\n\r\n    return S4() + S4();\r\n  }\r\n\r\n  static toggleInArray(item: any, array: any[]): void {\r\n    if (array.indexOf(item) === -1) {\r\n      array.push(item);\r\n    } else {\r\n      array.splice(array.indexOf(item), 1);\r\n    }\r\n  }\r\n\r\n  static sanitizeString(text: string): string {\r\n    return text\r\n      .toString()\r\n      .toLowerCase()\r\n      .replace(/\\s+/g, '-') // Replace spaces with -\r\n      .replace(/\\W+/g, '') // Remove all non-word chars\r\n      .replace(/--+/g, '-') // Replace multiple - with single -\r\n      .replace(/^-+/, '') // Trim - from start of text\r\n      .replace(/-+$/, ''); // Trim - from end of text\r\n  }\r\n\r\n  static stringToSlug(t: string): string {\r\n    return t\r\n      .toLowerCase()\r\n      .replace(/ /g, '-')\r\n      .replace(/[^\\w-]+/g, '');\r\n  }\r\n\r\n  static findById(o: { id: object; [k: string]: any }, id: object): object | null {\r\n    //Early return\r\n    if (o.id === id) {\r\n      return o;\r\n    }\r\n    let result, p;\r\n    for (p in o) {\r\n      if (o.hasOwnProperty(p) && typeof o[p] === 'object') {\r\n        result = this.findById(o[p], id);\r\n        if (result) {\r\n          return result;\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static randomMatColor(hue: string): string[] {\r\n    hue = hue ? hue : '400';\r\n    const mainColors = [\r\n      'amber',\r\n      'blue',\r\n      'blueGrey',\r\n      'brown',\r\n      'common',\r\n      'cyan',\r\n      'deepOrange',\r\n      'deepPurple',\r\n      'green',\r\n      'grey',\r\n      'indigo',\r\n      'lightBlue',\r\n      'lightGreen',\r\n      'lime',\r\n      'orange',\r\n      'pink',\r\n      'purple',\r\n      'red',\r\n      'teal',\r\n      'yellow',\r\n    ];\r\n    const randomColor = mainColors[Math.floor(Math.random() * mainColors.length)];\r\n    return [randomColor, hue];\r\n  }\r\n\r\n  static getParameterByName(name: string, url: string) {\r\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\r\n    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\r\n      results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\r\n  }\r\n}\r\n\r\nexport default Utils;\r\n","import { HomeOutlined, Event, RuleFolderOutlined, FactCheckOutlined } from '@mui/icons-material';\r\nimport { DrawerItemConfigType } from 'common/type';\r\nexport const drawerItemConfigs: DrawerItemConfigType[] = [\r\n  {\r\n    title: 'Classes',\r\n    icon: <HomeOutlined />,\r\n    href: '/',\r\n    type: 'item',\r\n  },\r\n  {\r\n    title: 'Calendar',\r\n    icon: <Event />,\r\n    href: '/',\r\n    type: 'item',\r\n  },\r\n  {\r\n    title: 'Teaching',\r\n    type: 'group',\r\n    children: [\r\n      {\r\n        title: 'To review',\r\n        icon: <RuleFolderOutlined />,\r\n        href: '/',\r\n        type: 'item',\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    title: 'Enrolled',\r\n    type: 'group',\r\n    children: [\r\n      {\r\n        title: 'To-do',\r\n        icon: <FactCheckOutlined />,\r\n        href: '/',\r\n        type: 'item',\r\n      },\r\n    ],\r\n  },\r\n];\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const disclaimerStyle: MultipleSxTypes = {\r\n  checkboxContainer: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    p: 1,\r\n    bgcolor: 'grey.100',\r\n    my: 2,\r\n    justifyContent: 'start',\r\n  },\r\n};\r\n\r\nexport const formStyle: MultipleSxTypes = {\r\n  container: {\r\n    '& .MuiTextField-root': {\r\n      my: 1,\r\n      mb: 2,\r\n    },\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { Link, Typography, Box, Checkbox, Stack, Button } from '@mui/material';\r\nimport { SimpleDialog } from 'components';\r\nimport { disclaimerStyle } from './style';\r\nimport { DisclaimerProps } from './type';\r\n\r\nexport const Disclaimer = ({ open, handleClose, onSubmit }: DisclaimerProps) => {\r\n  const [checkbox, setCheckbox] = React.useState<boolean>(false);\r\n\r\n  const handleCheck = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setCheckbox(event.target.checked);\r\n  };\r\n\r\n  return (\r\n    <SimpleDialog open={open} handleClose={handleClose} title=\"Using Classroom at a school with students?\" width={300}>\r\n      <Box sx={{ pt: 1 }}>\r\n        <Typography variant=\"body2\" gutterBottom component=\"p\" sx={{ pt: 1 }}>\r\n          If so, your school must sign up for a free Google Workspace for Education account before you can use Classroom.{' '}\r\n          <Link href=\"#\">privacy and security</Link>\r\n        </Typography>\r\n        <Typography variant=\"body2\" gutterBottom component=\"p\" sx={{ pt: 1 }}>\r\n          Google Workspace for Education lets schools decide which Google services their students can use, and provides additional{' '}\r\n          <Link href=\"#\">privacy and security</Link> protections that are important in a school setting. Students cannot use Google Classroom at a school with\r\n          personal accounts.\r\n        </Typography>\r\n        <Box sx={disclaimerStyle.checkboxContainer}>\r\n          <div>\r\n            <Checkbox checked={checkbox} onChange={handleCheck} />\r\n          </div>\r\n          <Typography variant=\"body2\" gutterBottom component=\"p\" sx={{ pt: 1 }}>\r\n            I've read and understand the above notice, and I'm not using Classroom at a school with students\r\n          </Typography>\r\n        </Box>\r\n\r\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\r\n          <Button onClick={handleClose}>Go back</Button>\r\n          <Button onClick={onSubmit} disabled={!checkbox}>\r\n            Continue\r\n          </Button>\r\n        </Stack>\r\n      </Box>\r\n    </SimpleDialog>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Box, Stack, Button, TextField } from '@mui/material';\r\nimport { SimpleDialog } from 'components';\r\nimport { formStyle } from './style';\r\nimport { FormModalProps } from './type';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n  title: yup\r\n    .string()\r\n    .min(1, 'Classroom Title should be of 1-100 characters length')\r\n    .max(100, 'Classroom Title should be of 1-100 characters length')\r\n    .required('Classroom Title is required'),\r\n  section: yup\r\n    .string()\r\n    .min(1, 'Section should be of 1-50 characters length')\r\n    .max(50, 'Section should be of 1-50 characters length')\r\n    .required('Section is required'),\r\n  subject: yup\r\n    .string()\r\n    .min(1, 'Subject should be of 1-50 characters length')\r\n    .max(50, 'Subject should be of 1-50 characters length'),\r\n  room: yup\r\n    .string()\r\n    .min(1, 'Room should be of 1-50 characters length')\r\n    .max(50, 'Room should be of 1-50 characters length'),\r\n});\r\n\r\nexport const CreateForm = ({ open, handleClose, onSubmit }: FormModalProps) => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: '',\r\n      room: '',\r\n      section: '',\r\n      subject: '',\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      onSubmit(values);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <SimpleDialog open={open} handleClose={handleClose} title=\"Create class\" width={500}>\r\n      <Box component=\"form\" noValidate autoComplete=\"off\" sx={formStyle.container} onSubmit={formik.handleSubmit}>\r\n        <TextField\r\n          id=\"title\"\r\n          name=\"title\"\r\n          label=\"Class name (required)\"\r\n          variant=\"filled\"\r\n          fullWidth\r\n          value={formik.values.title}\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.title && Boolean(formik.errors.title)}\r\n          helperText={formik.touched.title && formik.errors.title}\r\n        />\r\n        <TextField\r\n          id=\"section\"\r\n          name=\"section\"\r\n          label=\"Section (required)\"\r\n          variant=\"filled\"\r\n          fullWidth\r\n          onChange={formik.handleChange}\r\n          value={formik.values.section}\r\n          error={formik.touched.section && Boolean(formik.errors.section)}\r\n          helperText={formik.touched.section && formik.errors.section}\r\n        />\r\n        <TextField\r\n          id=\"subject\"\r\n          name=\"subject\"\r\n          label=\"Subject\"\r\n          variant=\"filled\"\r\n          fullWidth\r\n          onChange={formik.handleChange}\r\n          value={formik.values.subject}\r\n          error={formik.touched.subject && Boolean(formik.errors.subject)}\r\n          helperText={formik.touched.subject && formik.errors.subject}\r\n        />\r\n        <TextField\r\n          id=\"room\"\r\n          name=\"room\"\r\n          label=\"Room\"\r\n          variant=\"filled\"\r\n          fullWidth\r\n          onChange={formik.handleChange}\r\n          value={formik.values.room}\r\n          error={formik.touched.room && Boolean(formik.errors.room)}\r\n          helperText={formik.touched.room && formik.errors.room}\r\n        />\r\n\r\n        <Stack direction=\"row\" spacing={2} marginTop={1} justifyContent=\"flex-end\">\r\n          <Button onClick={handleClose}>Go back</Button>\r\n          <Button type=\"submit\" onClick={() => {}}>\r\n            Continue\r\n          </Button>\r\n        </Stack>\r\n      </Box>\r\n    </SimpleDialog>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Typography, Box, Stack, Button, TextField } from '@mui/material';\r\nimport { SimpleDialog } from 'components';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { JoinFormProps } from './type';\r\nimport { formStyle } from './style';\r\n\r\nconst validationSchema = yup.object({\r\n  code: yup\r\n    .string()\r\n    .min(6, 'Classroom Title should be of 6 characters length')\r\n    .max(6, 'Classroom Title should be of 6 characters length')\r\n    .matches(/^[ A-Za-z0-9]*$/, 'Alphabetical or numeral characters only!')\r\n    .required('Classroom code is required'),\r\n});\r\n\r\nexport const JoinForm = ({ open, handleClose, onSubmit }: JoinFormProps) => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      code: '',\r\n    },\r\n    validateOnChange: true,\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      onSubmit(values);\r\n    },\r\n  });\r\n  return (\r\n    <SimpleDialog open={open} handleClose={handleClose} title=\"Join classroom by code\" width={300}>\r\n      <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={formik.handleSubmit} sx={formStyle.container}>\r\n        <Typography variant=\"body2\" gutterBottom component=\"p\" sx={{ pb: 2 }}>\r\n          Ask your teacher for the class code, then enter it here.\r\n        </Typography>\r\n        <TextField\r\n          id=\"code\"\r\n          name=\"code\"\r\n          label=\"Class code (required)\"\r\n          fullWidth\r\n          value={formik.values.code}\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.code && Boolean(formik.errors.code)}\r\n          helperText={formik.touched.code && formik.errors.code}\r\n        />\r\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\r\n          <Button onClick={handleClose}>Go back</Button>\r\n          <Button type=\"submit\">Continue</Button>\r\n        </Stack>\r\n      </Box>\r\n    </SimpleDialog>\r\n  );\r\n};\r\n","import { IconButton, Menu, MenuItem } from '@mui/material';\r\nimport AddRoundedIcon from '@mui/icons-material/AddRounded';\r\nimport React from 'react';\r\nimport { Disclaimer } from './Disclaimer';\r\nimport { CreateForm } from './CreateForm';\r\nimport { JoinForm } from './JoinForm';\r\nimport { AddBtnProps } from './type';\r\nimport { FormData } from '../../type';\r\n\r\nexport const AddBtn = ({ handleCreateClass, handleJoinClass }: AddBtnProps) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n  const [disclaimerModal, showDisclamer] = React.useState<boolean>(false);\r\n  const [createForm, showCreateForm] = React.useState<boolean>(false);\r\n  const [joinForm, showJoinForm] = React.useState<boolean>(false);\r\n  const handleMenu = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const hideAll = () => {\r\n    setAnchorEl(null);\r\n    showDisclamer(false);\r\n    showCreateForm(false);\r\n    showJoinForm(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        size=\"large\"\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleMenu}\r\n        color=\"inherit\"\r\n      >\r\n        <AddRoundedIcon sx={{ fontSize: 24 }} />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"menu-add\"\r\n        anchorEl={anchorEl}\r\n        MenuListProps={{\r\n          'aria-labelledby': 'add-button',\r\n        }}\r\n        open={Boolean(anchorEl)}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'right',\r\n        }}\r\n        onClose={() => setAnchorEl(null)}\r\n        keepMounted\r\n      >\r\n        <MenuItem\r\n          onClick={() => {\r\n            showJoinForm(true);\r\n          }}\r\n        >\r\n          Join class\r\n        </MenuItem>\r\n        <MenuItem onClick={() => showDisclamer(true)}>Create class</MenuItem>\r\n      </Menu>\r\n\r\n      {/* Disclaimer */}\r\n      <Disclaimer\r\n        open={disclaimerModal}\r\n        handleClose={hideAll}\r\n        onSubmit={() => {\r\n          hideAll();\r\n          showCreateForm(true);\r\n        }}\r\n      />\r\n\r\n      {/* Create Form */}\r\n      <CreateForm\r\n        open={createForm}\r\n        handleClose={hideAll}\r\n        onSubmit={(form: FormData) => {\r\n          handleCreateClass(form);\r\n          hideAll();\r\n        }}\r\n      />\r\n      <JoinForm\r\n        open={joinForm}\r\n        handleClose={hideAll}\r\n        onSubmit={(data: { code: string }) => {\r\n          handleJoinClass(data);\r\n          hideAll();\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const cardSx: MultipleSxTypes = {\r\n  card: {\r\n    ':hover': {\r\n      boxShadow: '0 1px 2px 0 rgb(60 64 67 / 30%), 0 2px 6px 2px rgb(60 64 67 / 15%)',\r\n    },\r\n    maxWidth: 290,\r\n    border: 2,\r\n    borderColor: 'grey.200',\r\n    borderRadius: 2,\r\n  },\r\n  header: {\r\n    flexWrap: 'nowrap',\r\n    whiteSpace: 'nowrap',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'start',\r\n    marginTop: '-100px',\r\n    p: 2,\r\n    pb: 4,\r\n    color: '#fff',\r\n\r\n    '& > .MuiBox-root': {\r\n      cursor: 'pointer',\r\n      ':hover': {\r\n        textDecoration: 'underline',\r\n      },\r\n\r\n      '& > .MuiBox-root': {\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n      },\r\n    },\r\n  },\r\n\r\n  header_title: {\r\n    fontSize: 22,\r\n  },\r\n\r\n  header_section: {\r\n    fontSize: 13,\r\n  },\r\n\r\n  actions: {\r\n    borderTop: 2,\r\n    borderColor: 'grey.200',\r\n    justifyContent: 'end',\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { Box, CardActions, IconButton, Stack, CardMedia, CardContent, Card } from '@mui/material';\r\nimport { cardSx } from './style';\r\n\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport TrendingUpIcon from '@mui/icons-material/TrendingUp';\r\nimport FolderOpenIcon from '@mui/icons-material/FolderOpen';\r\nimport { ClassCardProps } from './type';\r\n\r\nexport const ClassCard = ({ image, title, section, onClick }: ClassCardProps) => {\r\n  return (\r\n    <Card sx={cardSx.card} elevation={0}>\r\n      <CardMedia component=\"img\" height=\"100\" image={image} alt=\"bg\" />\r\n      <Stack spacing={2} direction=\"row\" sx={cardSx.header}>\r\n        <Box width={200} onClick={onClick}>\r\n          <Box sx={cardSx.header_title} component=\"div\">\r\n            {title}\r\n          </Box>\r\n          <Box sx={cardSx.header_section} component=\"div\">\r\n            {section}\r\n          </Box>\r\n        </Box>\r\n\r\n        <IconButton>\r\n          <MoreVertIcon sx={{ color: '#fff' }} />\r\n        </IconButton>\r\n      </Stack>\r\n\r\n      <CardContent sx={{ minHeight: 100 }}></CardContent>\r\n      <CardActions sx={cardSx.actions}>\r\n        <IconButton size=\"medium\" color=\"primary\">\r\n          <TrendingUpIcon />\r\n        </IconButton>\r\n        <IconButton size=\"medium\" color=\"primary\">\r\n          <FolderOpenIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n","import { SxType } from 'common/type';\r\n\r\nexport const bodyContainer: SxType = {\r\n  px: 2,\r\n};\r\n\r\nexport const cardContainer: SxType = {\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  flexWrap: 'wrap',\r\n  justifyContent: 'start',\r\n  gap: 3,\r\n  mt: 3,\r\n};\r\n","import { Classroom, JoinClass } from 'common/interfaces';\r\nimport { GenericGetAllResponse } from './../../common/interfaces/response/generic.interface';\r\nimport { BaseApiService } from 'services';\r\nimport { FormData } from './type';\r\n\r\nclass ClassroomService extends BaseApiService<FormData, Classroom> {\r\n  resource = 'classes';\r\n\r\n  getClassList(): Promise<GenericGetAllResponse<Classroom>> {\r\n    return new Promise((resolve, reject) => {\r\n      this.get().then((response: any) => {\r\n        resolve(response);\r\n      });\r\n    });\r\n  }\r\n\r\n  async joinClassRoom(joinData: JoinClass) {\r\n    return (await this._repository.post(`${this.resource}/join`, joinData)).data;\r\n  }\r\n}\r\n\r\nexport default ClassroomService;\r\n","import { Box, Typography, LinearProgress } from '@mui/material';\r\nimport React from 'react';\r\nimport { Navbar, ProfileBtn, useAuth } from 'components';\r\nimport { drawerItemConfigs } from 'configs';\r\nimport { AddBtn, ClassCard } from './subcomponents';\r\nimport { bodyContainer, cardContainer } from './style';\r\nimport { FormData } from './type';\r\nimport ClassroomService from './service';\r\n// import { useAppDispatch, useAppSelector } from 'store/hooks';\r\nimport { GenericGetAllResponse } from 'common/interfaces/response/generic.interface';\r\nimport { useNavigate } from 'react-router';\r\nimport { Classroom, UserRole } from 'common/interfaces';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\n\r\nconst service = new ClassroomService();\r\n\r\nconst Dashboard = () => {\r\n  // const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n  const { userData } = useAuth();\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n  const [classes, setClasses] = React.useState<Classroom[]>([]); //TODO: REPLACE USING REDUX\r\n\r\n  React.useEffect(() => {\r\n    setLoading(true);\r\n    service.getClassList().then((response: GenericGetAllResponse<Classroom>) => {\r\n      setClasses(response?.data);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  const handleCreateClass = (form: FormData) => {\r\n    setLoading(true);\r\n    service.create(form).then((d) => {\r\n      setLoading(false);\r\n      setClasses((prv) => [...prv, d]);\r\n    });\r\n  };\r\n\r\n  const handleJoinClass = (form: { code: string }) => {\r\n    setLoading(true);\r\n    service\r\n      .joinClassRoom({ code: form.code, role: UserRole.STUDENT })\r\n      .then((d) => {\r\n        setLoading(false);\r\n        dispatch(showMessage({ message: 'Class enrolled with code = ' + form.code + '!' }));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(showMessage({ message: 'Failed to enroll!', type: 'error' }));\r\n      });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar items={drawerItemConfigs} toolbarComponents={<>{loading && <LinearProgress />}</>}>\r\n        <>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            🎓 Moorssalc\r\n          </Typography>\r\n\r\n          <div>\r\n            <AddBtn handleCreateClass={handleCreateClass} handleJoinClass={handleJoinClass} />\r\n            {userData && <ProfileBtn fname={userData.first_name} imageUrl={userData.avatar} />}\r\n          </div>\r\n        </>\r\n      </Navbar>\r\n      {!loading && (\r\n        <Box sx={bodyContainer}>\r\n          <Box sx={cardContainer}>\r\n            {classes.map((c: Classroom, index: number) => (\r\n              <ClassCard\r\n                key={index}\r\n                title={c.title}\r\n                section={c.section}\r\n                image={c.image}\r\n                onClick={() => {\r\n                  navigate(`/classroom/${c._id}`);\r\n                }}\r\n              />\r\n            ))}\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const sharedStyleSx: MultipleSxTypes = {\r\n  root: {\r\n    bgcolor: '#A2D2FF',\r\n  },\r\n  container: {\r\n    height: '100vh',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  paper: {\r\n    px: {\r\n      xs: 2,\r\n      sm: 4,\r\n    },\r\n    py: 5,\r\n    borderRadius: 2,\r\n    width: 448,\r\n    textAlign: 'center',\r\n    '& .MuiButton-root': { my: 1, py: 1.2 },\r\n  },\r\n\r\n  form: {\r\n    mt: 3,\r\n    mb: 1,\r\n    '& .MuiTextField-root': { my: 1 },\r\n  },\r\n\r\n  signUpContainer: {\r\n    fontStyle: 'italic',\r\n    my: 2,\r\n    justifyContent: 'center',\r\n    gap: 0.5,\r\n    '& .MuiLink-root': { cursor: 'pointer' },\r\n  },\r\n\r\n  divider: {\r\n    my: 2,\r\n  },\r\n};\r\n","export default __webpack_public_path__ + \"static/media/gg.87be52cb.svg\";","import {\r\n  Container,\r\n  Grow,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Link,\r\n  Stack,\r\n  TextField,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport React from 'react';\r\nimport { useGoogleLogin } from 'react-google-login';\r\nimport { sharedStyleSx } from './style';\r\nimport GoogleIcon from 'assets/images/gg.svg';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from 'components/context';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\n\r\nconst GG_API_KEY = process.env.REACT_APP_GOOGLE_API_KEY as string;\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup.string().email('This field should be a valid email').required('Please enter email'),\r\n  password: yup.string().required('Please Enter your password'),\r\n});\r\n\r\nconst LoginPage = () => {\r\n  const { search } = useLocation();\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n  const { signIn, signInWithGG } = useAuth();\r\n\r\n  const { signIn: loginWithGg } = useGoogleLogin({\r\n    clientId: GG_API_KEY,\r\n    // isSignedIn: true,\r\n    cookiePolicy: 'single_host_origin',\r\n    loginHint: 'Login with google',\r\n    onSuccess: (response: any) => {\r\n      setLoading(true);\r\n      signInWithGG(response.tokenId).then((data) => {\r\n        dispatch(showMessage({ message: 'Login successfully' }));\r\n      });\r\n    },\r\n  });\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      setLoading(true);\r\n      signIn(values).catch((e) => {\r\n        dispatch(showMessage({ message: 'Invalid credentials', type: 'error' }));\r\n      });\r\n    },\r\n  });\r\n\r\n  const signUpOnClick = () => {\r\n    navigate('/auth/register' + search);\r\n  };\r\n\r\n  return (\r\n    <Box sx={sharedStyleSx.root}>\r\n      <Grow appear={true} in={true} timeout={500}>\r\n        <Container sx={sharedStyleSx.container}>\r\n          <Paper elevation={4} square sx={sharedStyleSx.paper}>\r\n            <Typography variant=\"h2\">🎓</Typography>\r\n            <Typography variant=\"h5\">Moorssalc</Typography>\r\n            <Typography variant=\"body1\">Sign in </Typography>\r\n\r\n            <Box component=\"form\" noValidate autoComplete=\"off\" sx={sharedStyleSx.form} onSubmit={formik.handleSubmit}>\r\n              <TextField\r\n                id=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                fullWidth\r\n                autoComplete=\"off\"\r\n                value={formik.values.email}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.email && Boolean(formik.errors.email)}\r\n                helperText={formik.touched.email && formik.errors.email}\r\n              />\r\n              <TextField\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                fullWidth\r\n                autoComplete=\"off\"\r\n                value={formik.values.password}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.password && Boolean(formik.errors.password)}\r\n                helperText={formik.touched.password && formik.errors.password}\r\n              />\r\n              <Button\r\n                fullWidth\r\n                type=\"submit\"\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                aria-label=\"login with credentials\"\r\n                endIcon={loading && <CircularProgress size={16} />}\r\n                disabled={loading}\r\n              >\r\n                Sign in\r\n              </Button>\r\n            </Box>\r\n            <Stack direction=\"row\" sx={sharedStyleSx.signUpContainer}>\r\n              <Typography variant=\"body1\">Don't have account?</Typography>\r\n              <Link onClick={signUpOnClick}>Sign up</Link>\r\n            </Stack>\r\n            <Divider flexItem sx={sharedStyleSx.divider}>\r\n              or\r\n            </Divider>\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              size=\"large\"\r\n              aria-label=\"Sign in with Google\"\r\n              color=\"error\"\r\n              startIcon={<img src={GoogleIcon} alt=\"Google Icon\" />}\r\n              onClick={() => {\r\n                loginWithGg();\r\n              }}\r\n            >\r\n              Login with Google\r\n            </Button>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","export const NAME_REGEX =\r\n  /^(?:[\\$A-Z_a-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00-\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1E\\uDF30-\\uDF4A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33]|\\uD808[\\uDC00-\\uDF6E]|\\uD809[\\uDC00-\\uDC62]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|[\\uD840-\\uD868][\\uDC00-\\uDFFF]|\\uD869[\\uDC00-\\uDED6]|\\uD87E[\\uDC00-\\uDE1D])(?:[\\$0-9A-Z_a-z\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0621-\\u065E\\u0660-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0901-\\u0939\\u093C-\\u094D\\u0950-\\u0954\\u0958-\\u0963\\u0966-\\u096F\\u0971\\u0972\\u097B-\\u097F\\u0981-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C01-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C82\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0D02\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC\\u0EDD\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F8B\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u1099\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F0\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17B3\\u17B6-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u1900-\\u191C\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BAA\\u1BAE-\\u1BB9\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1D00-\\u1DE6\\u1DFE-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u2094\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA65F\\uA662-\\uA66F\\uA67C\\uA67D\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA900-\\uA92D\\uA930-\\uA953\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAC00-\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE26\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1E\\uDF30-\\uDF4A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F]|\\uD808[\\uDC00-\\uDF6E]|\\uD809[\\uDC00-\\uDC62]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|[\\uD840-\\uD868][\\uDC00-\\uDFFF]|\\uD869[\\uDC00-\\uDED6]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF])*$/;\r\n\r\nexport const STUDENT_ID_REGEX = /^[ A-Za-z0-9_@-]*$/;\r\n","import {\r\n  Container,\r\n  Grow,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Link,\r\n  Stack,\r\n  TextField,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport React from 'react';\r\nimport { sharedStyleSx } from './style';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from 'components';\r\nimport { NAME_REGEX } from 'common/constants/regex';\r\nimport { RegisterData } from 'common/interfaces';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup.string().email('This field should be a valid email').required('Please enter email'),\r\n  first_name: yup\r\n    .string()\r\n    .matches(NAME_REGEX, 'No special characters, and 1 word allow')\r\n    .required('Firstname is required'),\r\n  last_name: yup\r\n    .string()\r\n    .matches(NAME_REGEX, 'No special characters, and 1 word allow')\r\n    .required('Lastname is rquired'),\r\n  password: yup\r\n    .string()\r\n    .required('Please Enter your password')\r\n    .matches(\r\n      /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/,\r\n      'Must Contain 6 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character',\r\n    ),\r\n  passwordConfirm: yup\r\n    .string()\r\n    .oneOf([yup.ref('password'), null], 'Passwords must match')\r\n    .required('Please enter password confirmation'),\r\n});\r\n\r\ntype FormType = RegisterData & {\r\n  passwordConfirm?: string;\r\n};\r\n\r\nconst RegisterPage = () => {\r\n  const { search } = useLocation();\r\n  const dispatch = useAppDispatch();\r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n  const formik = useFormik<FormType>({\r\n    initialValues: {\r\n      email: '',\r\n      first_name: '',\r\n      last_name: '',\r\n      password: '',\r\n      passwordConfirm: '',\r\n    },\r\n    validateOnBlur: true,\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      setLoading(true);\r\n\r\n      const bodyData: FormType = { ...values };\r\n      delete bodyData.passwordConfirm;\r\n      if (register)\r\n        register(bodyData)\r\n          .then(() => {\r\n            setLoading(false);\r\n            dispatch(\r\n              showMessage({\r\n                message: 'Registeration completed',\r\n                type: 'success',\r\n              }),\r\n            );\r\n            // navigate('/' + search);\r\n          })\r\n          .catch((response) => {\r\n            setLoading(false);\r\n            dispatch(showMessage({ message: response.message, type: 'error' }));\r\n          });\r\n    },\r\n  });\r\n\r\n  const goToLogin = () => {\r\n    navigate('/auth/login' + search);\r\n  };\r\n\r\n  return (\r\n    <Box sx={sharedStyleSx.root}>\r\n      <Grow appear={true} in={true} timeout={500}>\r\n        <Container sx={sharedStyleSx.container}>\r\n          <Paper elevation={4} square sx={sharedStyleSx.paper}>\r\n            <Typography variant=\"h2\">🎓</Typography>\r\n            <Typography variant=\"h5\">Moorssalc</Typography>\r\n            <Typography variant=\"body1\">Sign up</Typography>\r\n\r\n            <Box component=\"form\" noValidate autoComplete=\"off\" sx={sharedStyleSx.form} onSubmit={formik.handleSubmit}>\r\n              <Stack direction=\"row\" gap={3}>\r\n                <TextField\r\n                  id=\"first_name\"\r\n                  name=\"first_name\"\r\n                  label=\"Firstname\"\r\n                  fullWidth\r\n                  value={formik.values.first_name}\r\n                  onChange={formik.handleChange}\r\n                  error={formik.touched.first_name && Boolean(formik.errors.first_name)}\r\n                  helperText={formik.touched.first_name && formik.errors.first_name}\r\n                />\r\n                <TextField\r\n                  id=\"last_name\"\r\n                  name=\"last_name\"\r\n                  label=\"Lastname \"\r\n                  fullWidth\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.last_name}\r\n                  error={formik.touched.last_name && Boolean(formik.errors.last_name)}\r\n                  helperText={formik.touched.last_name && formik.errors.last_name}\r\n                />\r\n              </Stack>\r\n              <TextField\r\n                id=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                type=\"email\"\r\n                autoComplete=\"off\"\r\n                fullWidth\r\n                value={formik.values.email}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.email && Boolean(formik.errors.email)}\r\n                helperText={formik.touched.email && formik.errors.email}\r\n              />\r\n              <TextField\r\n                id=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                autoComplete=\"off\"\r\n                fullWidth\r\n                value={formik.values.password}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.password && Boolean(formik.errors.password)}\r\n                helperText={formik.touched.password && formik.errors.password}\r\n              />\r\n              <TextField\r\n                id=\"passwordConfirm\"\r\n                name=\"passwordConfirm\"\r\n                label=\"Confirm password\"\r\n                type=\"password\"\r\n                fullWidth\r\n                value={formik.values.passwordConfirm}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.passwordConfirm && Boolean(formik.errors.passwordConfirm)}\r\n                helperText={formik.touched.passwordConfirm && formik.errors.passwordConfirm}\r\n              />\r\n              <Button\r\n                fullWidth\r\n                type=\"submit\"\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                aria-label=\"login btn\"\r\n                endIcon={loading && <CircularProgress size={16} />}\r\n                disabled={loading}\r\n              >\r\n                Sign up\r\n              </Button>\r\n            </Box>\r\n            <Stack direction=\"row\" sx={sharedStyleSx.signUpContainer}>\r\n              <Typography variant=\"body1\">Already have account?</Typography>\r\n              <Link onClick={goToLogin}>Log in</Link>\r\n            </Stack>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;\r\n","import { UserRole } from './../../common/interfaces/classes/classroomUser.interface';\r\nimport { Classroom, ClassroomUser, InviteUser } from 'common/interfaces';\r\nimport { BaseApiService } from 'services';\r\n\r\nclass ClassroomService extends BaseApiService<any, Classroom> {\r\n  resource = 'classes';\r\n\r\n  async getMyRole(classId: string) {\r\n    return (await this._repository.get(`${this.resource}/${classId}/role`)).data;\r\n  }\r\n\r\n  async getClassUsers(classId: string): Promise<ClassroomUser[]> {\r\n    return (await this._repository.get(`${this.resource}/${classId}/people`)).data.users;\r\n  }\r\n\r\n  async submitInvitation(data: InviteUser) {\r\n    return (await this._repository.post(`${this.resource}/invite`, data)).data;\r\n  }\r\n\r\n  async getClassData(classId: string): Promise<any> {\r\n    return {\r\n      myRole: (await this._repository.get(`${this.resource}/${classId}/role`)).data.role as UserRole,\r\n      data: await this.getOne(classId),\r\n    };\r\n  }\r\n}\r\n\r\nexport default ClassroomService;\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const peopleTabSx: MultipleSxTypes = {\r\n  root: {\r\n    width: '650px',\r\n  },\r\n\r\n  header: {\r\n    py: 1,\r\n    mt: 3,\r\n    px: 2,\r\n    borderBottom: 1,\r\n    borderColor: 'primary.main',\r\n    '& .MuiTypography-root': {\r\n      color: 'primary.main',\r\n      fontSize: 32,\r\n    },\r\n    '& .MuiButtonBase-root': {\r\n      color: 'primary.main',\r\n      width: 48,\r\n    },\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { Typography, Box, Stack, Button, TextField } from '@mui/material';\r\nimport { SimpleDialog } from 'components';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { InviteFormProps } from './type';\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup.string().email().required('Email is required'),\r\n});\r\n\r\nexport const InviteForm = ({ open, title, handleClose, onSubmit }: InviteFormProps) => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n    },\r\n    validateOnChange: true,\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      onSubmit(values.email);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <SimpleDialog open={open} handleClose={handleClose} title={title} width={300}>\r\n      <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={formik.handleSubmit}>\r\n        <Typography variant=\"body2\" gutterBottom component=\"p\">\r\n          Send an invitation link to this email\r\n        </Typography>\r\n        <TextField\r\n          id=\"email\"\r\n          name=\"email\"\r\n          label=\"Enter email\"\r\n          variant=\"standard\"\r\n          fullWidth\r\n          sx={{ mt: 1, mb: 2 }}\r\n          value={formik.values.email}\r\n          onChange={formik.handleChange}\r\n          error={formik.touched.email && Boolean(formik.errors.email)}\r\n          helperText={formik.touched.email && formik.errors.email}\r\n        />\r\n        <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\r\n          <Button onClick={handleClose}>Cancel</Button>\r\n          <Button type=\"submit\">Invite</Button>\r\n        </Stack>\r\n      </Box>\r\n    </SimpleDialog>\r\n  );\r\n};\r\n","import { Mail, PersonAddOutlined } from '@mui/icons-material';\r\nimport {\r\n  Avatar,\r\n  Container,\r\n  Divider,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Stack,\r\n  Tooltip,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { ClassroomUser, UserRole } from 'common/interfaces';\r\nimport ClassroomService from '../../service';\r\nimport React from 'react';\r\nimport { peopleTabSx } from './style';\r\nimport { PeopleTabProps } from './type';\r\nimport { useParams } from 'react-router';\r\nimport { InviteForm } from './InviteForm';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\n\r\nexport const PeopleTab = ({ role }: PeopleTabProps) => {\r\n  const { id } = useParams();\r\n  const service = new ClassroomService();\r\n  const dispatch = useAppDispatch();\r\n  const [data, setData] = React.useState<ClassroomUser[]>([]);\r\n  const [inviteTeacher, showTeacherInviteForm] = React.useState<boolean>(false);\r\n  const [inviteStudent, showStudentInviteForm] = React.useState<boolean>(false);\r\n\r\n  const fetchData = (classId: string) => {\r\n    service.getClassUsers(classId).then((users: ClassroomUser[]) => {\r\n      setData(users);\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (id) {\r\n      fetchData(id);\r\n    }\r\n  }, []);\r\n\r\n  const checkRole = (role: UserRole, type: 'Teachers' | 'Students') => {\r\n    if (type === 'Teachers') return role !== UserRole.STUDENT;\r\n    else return role === UserRole.STUDENT;\r\n  };\r\n\r\n  const inviteBtnHandler = (type: 'Teachers' | 'Students') => {\r\n    if (type === 'Teachers') showTeacherInviteForm(true);\r\n    else showStudentInviteForm(true);\r\n  };\r\n\r\n  const submitInvite = (invitedRole: UserRole, email: string) => {\r\n    service\r\n      .submitInvitation({\r\n        class_id: id as string,\r\n        role: invitedRole,\r\n        email: email,\r\n      })\r\n      .then((d) => {\r\n        if (id) fetchData(id);\r\n        dispatch(showMessage({ message: 'Email submited!' }));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(showMessage({ message: 'Error when submitted invitation! Reason: ' + err.message, type: 'error' }));\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth={false} sx={peopleTabSx.root}>\r\n      {['Teachers', 'Students'].map((t: any) => (\r\n        <React.Fragment key={t}>\r\n          <Stack direction=\"row\" justifyContent=\"space-between\" sx={peopleTabSx.header}>\r\n            <Typography>{t}</Typography>\r\n            {role !== UserRole.STUDENT && (\r\n              <IconButton\r\n                onClick={() => {\r\n                  inviteBtnHandler(t);\r\n                }}\r\n              >\r\n                <PersonAddOutlined />\r\n              </IconButton>\r\n            )}\r\n          </Stack>\r\n          <List>\r\n            {data &&\r\n              data\r\n                .filter(\r\n                  (u: ClassroomUser) =>\r\n                    checkRole(u.role, t) && (role !== UserRole.STUDENT || u.status !== 'INACTIVATED'),\r\n                )\r\n                .map((u: ClassroomUser, idx: number) => (\r\n                  <React.Fragment key={idx}>\r\n                    <ListItem alignItems=\"flex-start\">\r\n                      <ListItemAvatar>\r\n                        {u.user_id.avatar ? (\r\n                          <Avatar alt={u.user_id.first_name} src={u.user_id.avatar} sx={{ bgcolor: 'primary.main' }} />\r\n                        ) : (\r\n                          <Avatar sx={{ bgcolor: 'primary.main' }}>{u.user_id.first_name.charAt(0)}</Avatar>\r\n                        )}\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        primary={u.user_id.first_name + ' ' + u.user_id.last_name}\r\n                        secondary={\r\n                          <>\r\n                            <Typography\r\n                              sx={{ display: 'inline' }}\r\n                              component=\"span\"\r\n                              variant=\"body2\"\r\n                              color=\"text.primary\"\r\n                            >\r\n                              {u.user_id.email}\r\n                            </Typography>\r\n                            {u.status === 'INACTIVATED' && ' - (Inviting)'}\r\n                          </>\r\n                        }\r\n                      />\r\n                      <Tooltip title={`Send Mail to ${u.user_id.email}`}>\r\n                        <IconButton href={`mailto:${u.user_id.email}`}>\r\n                          <Mail />\r\n                        </IconButton>\r\n                      </Tooltip>\r\n                    </ListItem>\r\n                    <Divider />\r\n                  </React.Fragment>\r\n                ))}\r\n          </List>\r\n        </React.Fragment>\r\n      ))}\r\n\r\n      <InviteForm\r\n        title=\"Invite Teachers\"\r\n        open={inviteTeacher}\r\n        handleClose={() => showTeacherInviteForm(false)}\r\n        onSubmit={(email: string) => {\r\n          submitInvite(UserRole.TEACHER, email);\r\n          showTeacherInviteForm(false);\r\n        }}\r\n      />\r\n\r\n      <InviteForm\r\n        title=\"Invite students\"\r\n        open={inviteStudent}\r\n        handleClose={() => showStudentInviteForm(false)}\r\n        onSubmit={(email: string) => {\r\n          submitInvite(UserRole.STUDENT, email);\r\n          showStudentInviteForm(false);\r\n        }}\r\n      />\r\n    </Container>\r\n  );\r\n};\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const bannerSx: MultipleSxTypes = {\r\n  card_stack: {\r\n    mt: '-98px',\r\n    whiteSpace: 'nowrap',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'end',\r\n    '& .MuiIconButton-root': {\r\n      mx: 1,\r\n      my: 0.5,\r\n      color: '#fff',\r\n    },\r\n  },\r\n  card: {\r\n    borderRadius: 2,\r\n  },\r\n  header: {\r\n    color: '#fff',\r\n    width: {\r\n      xs: '80%',\r\n      md: '90%',\r\n    },\r\n    p: 2,\r\n    '& .MuiBox-root': {\r\n      textOverflow: 'ellipsis',\r\n      overflow: 'hidden',\r\n    },\r\n  },\r\n  header_title: {\r\n    fontSize: 30,\r\n    fontWeight: 500,\r\n  },\r\n  header_section: {\r\n    fontSize: 14,\r\n  },\r\n  content: {\r\n    p: 3,\r\n  },\r\n  expand_row: {\r\n    alignItems: 'center',\r\n    gap: 1,\r\n    '& .MuiTypography-root:first-of-type': {\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n};\r\n","import { InfoOutlined, Info } from '@mui/icons-material';\r\nimport { Box, Card, CardContent, CardMedia, IconButton, Stack, Collapse, Typography, Tooltip } from '@mui/material';\r\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\r\nimport { Classroom, UserRole } from 'common/interfaces';\r\nimport React from 'react';\r\nimport { bannerSx } from './style';\r\nimport { StreamProps } from './type';\r\nimport { useCopyToClipboard } from 'components';\r\n\r\nexport const StreamTab = ({ classData, role }: StreamProps) => {\r\n  const [copiedText, copy] = useCopyToClipboard();\r\n  const [details, showDetails] = React.useState<boolean>(true);\r\n\r\n  const toggleShowDetails = () => {\r\n    showDetails((prvState) => !prvState);\r\n  };\r\n\r\n  return (\r\n    <Box minHeight=\"100vh\">\r\n      {/* BANNER */}\r\n      <Card sx={bannerSx.card} elevation={details ? 4 : 0}>\r\n        <CardMedia component=\"img\" height=\"240\" image={classData.image} alt=\"bg\" />\r\n        <Stack spacing={2} direction=\"row\" sx={bannerSx.card_stack}>\r\n          <Box sx={bannerSx.header}>\r\n            <Box sx={bannerSx.header_title}>{classData.title}</Box>\r\n            <Box sx={bannerSx.header_section}>{classData.section}</Box>\r\n          </Box>\r\n\r\n          <IconButton onClick={toggleShowDetails}>{details ? <Info /> : <InfoOutlined />}</IconButton>\r\n        </Stack>\r\n\r\n        <Collapse in={details}>\r\n          <CardContent sx={bannerSx.content}>\r\n            {role !== UserRole.STUDENT && (\r\n              <Stack direction=\"row\" sx={bannerSx.expand_row}>\r\n                <Typography variant=\"body2\">Class code</Typography>\r\n                <Typography variant=\"body2\">{classData.code}</Typography>\r\n                <Tooltip title={!copiedText ? 'Copy invitation link' : 'Copied'}>\r\n                  <IconButton\r\n                    onClick={() => {\r\n                      copy(\r\n                        `${window.location.origin}/#/classes/join?classId=${classData._id}&role=STUDENT&code=${classData.code}`,\r\n                      );\r\n                    }}\r\n                  >\r\n                    <ContentCopyIcon sx={{ fontSize: 14 }} />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Stack>\r\n            )}\r\n            {classData?.subject && (\r\n              <Stack direction=\"row\" sx={bannerSx.expand_row}>\r\n                <Typography variant=\"body2\">Subject</Typography>\r\n                <Typography variant=\"body2\">{classData.subject}</Typography>\r\n              </Stack>\r\n            )}\r\n            {classData?.room && (\r\n              <Stack direction=\"row\" sx={bannerSx.expand_row}>\r\n                <Typography variant=\"body2\">Room</Typography>\r\n                <Typography variant=\"body2\">{classData.room}</Typography>\r\n              </Stack>\r\n            )}\r\n          </CardContent>\r\n        </Collapse>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n","import { useState } from 'react';\r\n\r\ntype CopiedValue = string | null;\r\ntype CopyFn = (text: string) => Promise<boolean>; // Return success\r\n\r\n// This React hook give you a copy method to save a string in the clipboard and the copied value (default: null).\r\n// If anything doesn't work, it prints a warning in the console and the value will be null.\r\nexport function useCopyToClipboard(): [CopiedValue, CopyFn] {\r\n  const [copiedText, setCopiedText] = useState<CopiedValue>(null);\r\n\r\n  const copy: CopyFn = async (text) => {\r\n    if (!navigator?.clipboard) {\r\n      console.warn('Clipboard not supported');\r\n      return false;\r\n    }\r\n\r\n    // Try to save to clipboard then save it in the state if worked\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      setCopiedText(text);\r\n      return true;\r\n    } catch (error) {\r\n      console.warn('Copy failed', error);\r\n      setCopiedText(null);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return [copiedText, copy];\r\n}\r\n","import React from 'react';\r\n\r\nexport const ClassworkTab = () => {\r\n  return <div>Classwork Tab</div>;\r\n};\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const settingModalSx: MultipleSxTypes = {\r\n  root: {\r\n    width: '100vw',\r\n    height: '100vh',\r\n    bgcolor: 'background.paper',\r\n  },\r\n\r\n  toolbar: {\r\n    borderBottom: 1,\r\n    borderColor: 'divider',\r\n    '& .MuiTypography-root': {\r\n      fontWeight: 500,\r\n    },\r\n    '& .MuiButton-root': {\r\n      ml: 'auto',\r\n      textTransform: 'capitalize',\r\n    },\r\n  },\r\n\r\n  container: {\r\n    maxWidth: '700px',\r\n  },\r\n\r\n  form: {\r\n    mt: 3,\r\n    p: 3,\r\n    border: 1,\r\n    borderColor: 'divider',\r\n    borderRadius: 2,\r\n    '& .MuiTypography-root': {\r\n      fontSize: '24px',\r\n      mb: 1,\r\n    },\r\n    '& .MuiTextField-root': {\r\n      my: 1,\r\n    },\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { settingModalSx } from './style';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport { Box, Grow, IconButton, Modal, Toolbar, Typography, Container, TextField, Button } from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nconst validationSchema = yup.object({\r\n  title: yup\r\n    .string()\r\n    .min(1, 'Classroom Title should be of 1-100 characters length')\r\n    .max(100, 'Classroom Title should be of 1-100 characters length')\r\n    .required('Classroom Title is required'),\r\n  section: yup\r\n    .string()\r\n    .min(1, 'Section should be of 1-50 characters length')\r\n    .max(50, 'Section should be of 1-50 characters length'),\r\n  subject: yup\r\n    .string()\r\n    .min(1, 'Subject should be of 1-50 characters length')\r\n    .max(50, 'Subject should be of 1-50 characters length'),\r\n  room: yup\r\n    .string()\r\n    .min(1, 'Room should be of 1-50 characters length')\r\n    .max(50, 'Room should be of 1-50 characters length'),\r\n});\r\nexport const ClassroomSetting = ({}) => {\r\n  const [modal, showModal] = React.useState<boolean>(false);\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: '',\r\n      room: '',\r\n      section: '',\r\n      subject: '',\r\n    },\r\n    validateOnBlur: true,\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {},\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        size=\"large\"\r\n        aria-label=\"account of current user\"\r\n        aria-controls=\"menu-appbar\"\r\n        aria-haspopup=\"true\"\r\n        onClick={() => showModal(true)}\r\n        color=\"inherit\"\r\n      >\r\n        <SettingsIcon sx={{ fontSize: 24 }} />\r\n      </IconButton>\r\n\r\n      <Modal\r\n        open={modal}\r\n        onClose={() => showModal(false)}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Grow in={modal} timeout={300}>\r\n          <Box sx={settingModalSx.root}>\r\n            <Toolbar sx={settingModalSx.toolbar}>\r\n              <IconButton\r\n                size=\"large\"\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                aria-label=\"close modal\"\r\n                onClick={() => showModal(false)}\r\n              >\r\n                <CloseIcon sx={{ fontSize: 20 }} />\r\n              </IconButton>\r\n              <Typography variant=\"body1\">Classroom setting</Typography>\r\n\r\n              <Button variant=\"contained\">Save</Button>\r\n            </Toolbar>\r\n\r\n            <Container maxWidth={false} sx={settingModalSx.container}>\r\n              <Box\r\n                sx={settingModalSx.form}\r\n                component=\"form\"\r\n                noValidate\r\n                autoComplete=\"off\"\r\n                onSubmit={formik.handleSubmit}\r\n              >\r\n                <Typography color=\"primary\">Class Details</Typography>\r\n                <TextField\r\n                  id=\"title\"\r\n                  name=\"title\"\r\n                  label=\"Class name (required)\"\r\n                  variant=\"filled\"\r\n                  fullWidth\r\n                  value={formik.values.title}\r\n                  onChange={formik.handleChange}\r\n                  error={formik.touched.title && Boolean(formik.errors.title)}\r\n                  helperText={formik.touched.title && formik.errors.title}\r\n                />\r\n                <TextField\r\n                  id=\"section\"\r\n                  name=\"section\"\r\n                  label=\"Section\"\r\n                  variant=\"filled\"\r\n                  fullWidth\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.section}\r\n                  error={formik.touched.section && Boolean(formik.errors.section)}\r\n                  helperText={formik.touched.section && formik.errors.section}\r\n                />\r\n                <TextField\r\n                  id=\"subject\"\r\n                  name=\"subject\"\r\n                  label=\"Subject\"\r\n                  variant=\"filled\"\r\n                  fullWidth\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.subject}\r\n                  error={formik.touched.subject && Boolean(formik.errors.subject)}\r\n                  helperText={formik.touched.subject && formik.errors.subject}\r\n                />\r\n                <TextField\r\n                  id=\"room\"\r\n                  name=\"room\"\r\n                  label=\"Room\"\r\n                  variant=\"filled\"\r\n                  fullWidth\r\n                  onChange={formik.handleChange}\r\n                  value={formik.values.room}\r\n                  error={formik.touched.room && Boolean(formik.errors.room)}\r\n                  helperText={formik.touched.room && formik.errors.room}\r\n                />\r\n              </Box>\r\n            </Container>\r\n          </Box>\r\n        </Grow>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const navSx: MultipleSxTypes = {\r\n  tabsContainer: {\r\n    borderBottom: 1,\r\n    borderColor: 'divider',\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    mt: {\r\n      xs: 0,\r\n      md: -8,\r\n    },\r\n    mb: '-2px',\r\n    '& .MuiTab-root': {\r\n      height: 64,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      textTransform: 'capitalize',\r\n      fontWeight: 'semibold',\r\n      fontSize: 14,\r\n      px: 3,\r\n      transition: 'background-color 400ms ease-in-out',\r\n      ':hover': {\r\n        bgcolor: 'grey.100',\r\n      },\r\n    },\r\n  },\r\n  link: {\r\n    color: 'text.primary',\r\n    borderColor: 'divider',\r\n  },\r\n  progressBar: {\r\n    mt: '-3px',\r\n  },\r\n};\r\n\r\nexport const mainSx: MultipleSxTypes = {\r\n  container: {\r\n    mt: 4,\r\n    p: '0 !important',\r\n    maxWidth: '1000px',\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { Classroom, UserRole } from 'common/interfaces';\r\nimport { Navbar, ProfileBtn, TabPanel, useAuth } from 'components';\r\nimport { drawerItemConfigs } from 'configs';\r\nimport { Box, Typography, Tab, Tabs, LinearProgress, Link, Container } from '@mui/material';\r\nimport { ClassroomSetting, ClassworkTab, PeopleTab, StreamTab } from './subcomponents';\r\nimport { navSx, mainSx } from './style';\r\nimport { useParams } from 'react-router-dom';\r\nimport ClassroomService from './service';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\nimport { useNavigate } from 'react-router';\r\n\r\nconst ClassroomBoard = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const dispatch = useAppDispatch();\r\n  const classService = new ClassroomService();\r\n  const { userData } = useAuth();\r\n  const [loading, setLoading] = React.useState<boolean>(true);\r\n  const [tabValue, setTabValue] = React.useState<number>(0);\r\n  const [classData, setClassData] = React.useState<Classroom | null>(null);\r\n  const [role, setMyRole] = React.useState<UserRole>(UserRole.STUDENT);\r\n\r\n  const handleChange = (event: React.SyntheticEvent, newValue: number) => {\r\n    setTabValue(newValue);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (id) {\r\n      classService\r\n        .getClassData(id)\r\n        .then(({ data, myRole }) => {\r\n          setClassData(data);\r\n          setMyRole(myRole as UserRole);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          dispatch(showMessage({ message: 'Cannot find class', type: 'error' }));\r\n          setLoading(false);\r\n          navigate('/not-found');\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Navbar\r\n        items={drawerItemConfigs}\r\n        toolbarComponents={\r\n          <>\r\n            <Box sx={navSx.tabsContainer}>\r\n              <Tabs value={tabValue} onChange={handleChange} aria-label=\"basic tabs example\">\r\n                <Tab label=\"Stream\" id=\"one\" />\r\n                <Tab label=\"Classwork\" id=\"two\" />\r\n                <Tab label=\"People\" id=\"three\" />\r\n              </Tabs>\r\n            </Box>\r\n            {loading && <LinearProgress sx={navSx.progressBar} />}\r\n          </>\r\n        }\r\n      >\r\n        <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n          <Link underline=\"hover\" href={'/'} sx={navSx.link}>\r\n            {classData && classData.title}\r\n          </Link>\r\n        </Typography>\r\n\r\n        <Box>\r\n          <ClassroomSetting />\r\n          {userData && <ProfileBtn fname={userData.first_name} imageUrl={userData.avatar} />}\r\n        </Box>\r\n      </Navbar>\r\n      {!loading && classData && role && (\r\n        <Container maxWidth={false} sx={mainSx.container}>\r\n          <TabPanel value={tabValue} index={0}>\r\n            <StreamTab role={role} classData={classData} />\r\n          </TabPanel>\r\n          <TabPanel value={tabValue} index={1}>\r\n            <ClassworkTab />\r\n          </TabPanel>\r\n          <TabPanel value={tabValue} index={2}>\r\n            <PeopleTab role={role} />\r\n          </TabPanel>\r\n        </Container>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ClassroomBoard;\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const profileSx: MultipleSxTypes = {\r\n  root: {\r\n    width: '100vw',\r\n    minHeight: '100vh',\r\n    bgcolor: 'background.paper',\r\n    '& .MuiTypography-root': {\r\n      fontWeight: 500,\r\n    },\r\n    '& .MuiButton-root': {\r\n      ml: 'auto',\r\n      textTransform: 'capitalize',\r\n    },\r\n  },\r\n\r\n  container: {\r\n    maxWidth: '700px',\r\n  },\r\n\r\n  stack: {\r\n    gap: 3,\r\n  },\r\n\r\n  form: {\r\n    mt: 3,\r\n    p: 3,\r\n    border: 1,\r\n    borderColor: 'divider',\r\n    borderRadius: 2,\r\n    '& .MuiTextField-root': {\r\n      my: 1,\r\n    },\r\n    '& .Mui-disabled .MuiInputBase-input': {\r\n      bgcolor: 'grey.200',\r\n      fontWeight: 500,\r\n    },\r\n  },\r\n\r\n  form_title: {\r\n    fontSize: '24px',\r\n    mb: 1,\r\n  },\r\n\r\n  form_note: {\r\n    fontSize: '13px',\r\n    mt: 1,\r\n    color: 'warning.main',\r\n    fontWeight: 400,\r\n    fontStyle: 'italic',\r\n  },\r\n};\r\n","import { UserDataUpdate, User } from 'common/interfaces';\r\nimport { BaseApiService } from 'services';\r\n\r\nclass UserService extends BaseApiService<UserDataUpdate, User> {\r\n  resource = 'users';\r\n}\r\n\r\nexport default UserService;\r\n","import React from 'react';\r\nimport { Box, Typography, Container, TextField, Button, LinearProgress, Stack } from '@mui/material';\r\nimport { Navbar, useAuth } from 'components';\r\nimport { profileSx } from './style';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { drawerItemConfigs } from 'configs';\r\nimport { UserDataUpdate } from 'common/interfaces';\r\nimport { NAME_REGEX, STUDENT_ID_REGEX } from 'common/constants/regex';\r\nimport UserService from './service';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\n\r\nconst validationSchema = yup.object({\r\n  first_name: yup.string().matches(NAME_REGEX, 'Invalid name').required('Firstname is required'),\r\n  last_name: yup.string().matches(NAME_REGEX, 'Invalid name').required('Lastname is rquired'),\r\n  avatar: yup.object().nullable(),\r\n  student_id: yup.string().matches(STUDENT_ID_REGEX),\r\n});\r\n\r\nconst service = new UserService();\r\n\r\nconst UserProfile = () => {\r\n  const { userData, reload } = useAuth();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const formik = useFormik<UserDataUpdate>({\r\n    initialValues: {\r\n      first_name: userData?.first_name || '',\r\n      last_name: userData?.last_name || '',\r\n      avatar: userData?.avatar || '',\r\n      student_id: userData?.student_id || '',\r\n    },\r\n    validateOnBlur: true,\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values) => {\r\n      setLoading(true);\r\n      if (userData)\r\n        service\r\n          .update(userData._id, values)\r\n          .then(() => {\r\n            dispatch(showMessage({ message: 'Update successfully' }));\r\n            reload();\r\n            setLoading(false);\r\n          })\r\n          .catch((err) => {\r\n            if (err.statusCode === 409) dispatch(showMessage({ message: 'Student Id exists!', type: 'error' }));\r\n            else dispatch(showMessage({ message: 'Update failed!', type: 'error' }));\r\n            setLoading(false);\r\n          });\r\n    },\r\n  });\r\n\r\n  const [loading, setLoading] = React.useState<boolean>(false);\r\n\r\n  return (\r\n    <Box sx={profileSx.root}>\r\n      <Navbar items={drawerItemConfigs} toolbarComponents={<>{loading && <LinearProgress />}</>}>\r\n        <>\r\n          <Typography variant=\"body1\">Classroom setting</Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={() => {\r\n              formik.submitForm();\r\n            }}\r\n          >\r\n            Save\r\n          </Button>\r\n        </>\r\n      </Navbar>\r\n\r\n      <Container maxWidth={false} sx={profileSx.container}>\r\n        <Box sx={profileSx.form} component=\"form\" noValidate autoComplete=\"off\" onSubmit={formik.handleSubmit}>\r\n          <Typography sx={profileSx.form_title} color=\"primary\">\r\n            Profile\r\n          </Typography>\r\n\r\n          <TextField id=\"email\" name=\"email\" label=\"Email\" fullWidth disabled value={userData?.email} />\r\n          <Stack direction=\"row\" sx={profileSx.stack}>\r\n            <TextField\r\n              id=\"first_name\"\r\n              name=\"first_name\"\r\n              label=\"First name (required)\"\r\n              fullWidth\r\n              disabled={userData?.google_id !== null}\r\n              value={formik.values.first_name}\r\n              onChange={formik.handleChange}\r\n              error={formik.touched.first_name && Boolean(formik.errors.first_name)}\r\n              helperText={formik.touched.first_name && formik.errors.first_name}\r\n            />\r\n            <TextField\r\n              id=\"last_name\"\r\n              name=\"last_name\"\r\n              label=\"Lastname (required)\"\r\n              fullWidth\r\n              disabled={userData?.google_id !== null}\r\n              onChange={formik.handleChange}\r\n              value={formik.values.last_name}\r\n              error={formik.touched.last_name && Boolean(formik.errors.last_name)}\r\n              helperText={formik.touched.last_name && formik.errors.last_name}\r\n            />\r\n          </Stack>\r\n          <TextField\r\n            id=\"student_id\"\r\n            name=\"student_id\"\r\n            label=\"Student id\"\r\n            fullWidth\r\n            value={formik.values.student_id}\r\n            onChange={formik.handleChange}\r\n            error={formik.touched.student_id && Boolean(formik.errors.student_id)}\r\n            helperText={formik.touched.student_id && formik.errors.student_id}\r\n          />\r\n          <TextField\r\n            id=\"avatar\"\r\n            name=\"avatar\"\r\n            label=\"Avatar URL\"\r\n            fullWidth\r\n            disabled={userData?.google_id != null}\r\n            onChange={formik.handleChange}\r\n            value={formik.values.avatar || ''}\r\n            error={formik.touched.avatar && Boolean(formik.errors.avatar)}\r\n            helperText={formik.touched.avatar && formik.errors.avatar}\r\n          />\r\n          {userData?.google_id != null && (\r\n            <Typography sx={profileSx.form_note} variant=\"body2\">\r\n              *You are linking your account with google, so please update your google account if you want to update your\r\n              classroom account\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n      </Container>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import { MultipleSxTypes } from 'common/type';\r\n\r\nexport const errorPageSx: MultipleSxTypes = {\r\n  container: {\r\n    height: '100vh',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  paper: {\r\n    px: {\r\n      xs: 2,\r\n      sm: 4,\r\n    },\r\n    py: 5,\r\n    borderRadius: 2,\r\n    width: 448,\r\n    textAlign: 'center',\r\n  },\r\n\r\n  paper_title: {\r\n    fontWeight: 600,\r\n    textTransform: 'uppercase',\r\n    mt: 2,\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { errorPageSx } from './style';\r\nimport { Container, Grow, Paper, Typography, Box, Button, Divider } from '@mui/material';\r\nimport { useNavigate } from 'react-router';\r\n\r\nconst NotFoundPage = () => {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <Box sx={errorPageSx.root}>\r\n      <Grow appear={true} in={true} timeout={500}>\r\n        <Container sx={errorPageSx.container}>\r\n          <Paper elevation={0} square sx={errorPageSx.paper}>\r\n            <Typography variant=\"h1\">4☹4</Typography>\r\n            <Typography variant=\"h4\" sx={errorPageSx.paper_title}>\r\n              Page not found\r\n            </Typography>\r\n            <Divider />\r\n            <Button onClick={() => navigate('/')}>Go back to Home page </Button>\r\n          </Paper>\r\n        </Container>\r\n      </Grow>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NotFoundPage;\r\n","import { JoinClass, UserRole } from 'common/interfaces';\r\nimport { BaseApiService } from 'services';\r\n\r\nclass InvitationService extends BaseApiService<JoinClass, any> {\r\n  resource = 'classes';\r\n\r\n  async joinClassroom(classId: string, code: string, role: UserRole): Promise<any> {\r\n    const data: JoinClass = {\r\n      class_id: classId,\r\n      code: code,\r\n      role: role,\r\n    };\r\n    if (UserRole.STUDENT === role) return (await this._repository.post(`${this.resource}/join`, data)).data;\r\n    else return (await this._repository.post(`${this.resource}/invite/accept`, data)).data;\r\n  }\r\n}\r\n\r\nexport default InvitationService;\r\n","import { LinearProgress } from '@mui/material';\r\nimport { UserRole } from 'common/interfaces';\r\nimport React from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAppDispatch } from 'store/hooks';\r\nimport { showMessage } from 'store/slices';\r\nimport InvitationService from './service';\r\n\r\nconst InvitePage = () => {\r\n  const dispatch = useAppDispatch();\r\n  const service = new InvitationService();\r\n  const { search } = useLocation();\r\n  const navigate = useNavigate();\r\n  React.useEffect(() => {\r\n    if (search) {\r\n      const params = new URLSearchParams(search);\r\n      const classId = params.get('classId') as string;\r\n      const role = params.get('role') as UserRole;\r\n      const code = params.get('code') as string;\r\n      service\r\n        .joinClassroom(classId, code, role)\r\n        .then((data) => {\r\n          navigate('/classroom/' + classId);\r\n        })\r\n        .catch((err) => {\r\n          if (err.statusCode === 409) {\r\n            dispatch(\r\n              showMessage({\r\n                message:\r\n                  'Invited email and your account email is not the same! Please login with the Email you received the invitation code',\r\n                type: 'error',\r\n              }),\r\n            );\r\n          }\r\n\r\n          // navigate('/not-found');\r\n        });\r\n    } else navigate('/');\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <LinearProgress />; Please wait a few moment\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InvitePage;\r\n","import { RouteConfigs } from 'common/type';\r\nimport { Navigate } from 'react-router-dom';\r\nimport React from 'react';\r\n// import { LinearProgress } from '@mui/material';\r\nimport Utils from 'common/utils';\r\nimport Dashboard from './Dashboard';\r\nimport LoginPage from './Auth/Login';\r\nimport RegisterPage from './Auth/Register';\r\nimport Classroom from './Classroom';\r\nimport ProfilePage from './Profile';\r\nimport NotFoundPage from './Errors/NotFound';\r\nimport InvitationPage from './InvitationPage';\r\n\r\n// main screen\r\n// const Dashboard = React.lazy(() => import('./Dashboard'));\r\n// //Auth\r\n// const LoginPage = React.lazy(() => import('./Auth/Login'));\r\n// const RegisterPage = React.lazy(() => import('./Auth/Register'));\r\n\r\n// const Classroom = React.lazy(() => import('./Classroom'));\r\n\r\n// const ProfilePage = React.lazy(() => import('./Profile'));\r\n\r\n// const InvitationPage = React.lazy(() => import('./InvitationPage'));\r\n\r\n// const NotFoundPage = React.lazy(() => import('./Errors/NotFound'));\r\n\r\n// Public routes\r\nconst Wrapper = ({ children }: { children: any }) => <React.Fragment>{children}</React.Fragment>;\r\n\r\n// Authed routes\r\nconst AuthWrapped = ({\r\n  isAuthed,\r\n  children,\r\n  search = '',\r\n  pathname = '',\r\n}: {\r\n  isAuthed: boolean;\r\n  children: any;\r\n  search: string;\r\n  pathname: string;\r\n}) => {\r\n  return isAuthed ? (\r\n    <Wrapper>{children}</Wrapper>\r\n  ) : (\r\n    <Navigate to={'/auth/login?redirect=' + encodeURIComponent(pathname + search)} />\r\n  );\r\n};\r\n\r\n//Allow only not authed routes\r\nconst NotAuthWrapped = ({ isAuthed, children, search = '' }: { isAuthed: boolean; children: any; search: string }) => {\r\n  const link = Utils.getParameterByName('redirect', search); // Redirect if needed\r\n  return !isAuthed ? <Wrapper>{children}</Wrapper> : <Navigate to={link ? link : '/'} />;\r\n};\r\n\r\nconst appRoutes = (isAuthed: boolean, search: string, pathname: string): RouteConfigs => {\r\n  const routes: RouteConfigs = [\r\n    {\r\n      path: '/',\r\n      element: (\r\n        <AuthWrapped isAuthed={isAuthed} search={search} pathname={pathname}>\r\n          <Dashboard />\r\n        </AuthWrapped>\r\n      ),\r\n    },\r\n    {\r\n      path: '/classroom/:id',\r\n      element: (\r\n        <AuthWrapped isAuthed={isAuthed} search={search} pathname={pathname}>\r\n          <Classroom />\r\n        </AuthWrapped>\r\n      ),\r\n    },\r\n    {\r\n      path: '/profile',\r\n      element: (\r\n        <AuthWrapped isAuthed={isAuthed} search={search} pathname={pathname}>\r\n          <ProfilePage />\r\n        </AuthWrapped>\r\n      ),\r\n    },\r\n    {\r\n      path: '/classes/join',\r\n      element: (\r\n        <AuthWrapped isAuthed={isAuthed} search={search} pathname={pathname}>\r\n          <InvitationPage />\r\n        </AuthWrapped>\r\n      ),\r\n    },\r\n    { path: '/auth', element: <Navigate to=\"/auth/login\" /> },\r\n    {\r\n      path: '/auth/login',\r\n      element: (\r\n        <NotAuthWrapped isAuthed={isAuthed} search={search}>\r\n          <LoginPage />\r\n        </NotAuthWrapped>\r\n      ),\r\n    },\r\n    {\r\n      path: '/auth/register',\r\n      element: (\r\n        <NotAuthWrapped isAuthed={isAuthed} search={search}>\r\n          <RegisterPage />\r\n        </NotAuthWrapped>\r\n      ),\r\n    },\r\n    {\r\n      path: '/not-found',\r\n      element: (\r\n        <Wrapper>\r\n          <NotFoundPage />\r\n        </Wrapper>\r\n      ),\r\n    },\r\n    {\r\n      path: '/*',\r\n      element: <Navigate to=\"/not-found\" />,\r\n    },\r\n  ];\r\n\r\n  return routes;\r\n};\r\n\r\nexport default appRoutes;\r\n","import { LinearProgress } from '@mui/material';\r\nimport { NotificationSnackbar } from 'components';\r\nimport { mainTheme } from 'configs/theme.config';\r\nimport React from 'react';\r\nimport { useRoutes, useLocation } from 'react-router-dom';\r\nimport { useAppDispatch, useAppSelector } from 'store/hooks';\r\nimport { hideMessage } from 'store/slices';\r\nimport { ThemeContext, useAuth } from './components/context';\r\nimport appRoutes from './pages/route';\r\n\r\nfunction App() {\r\n  const dispatch = useAppDispatch();\r\n  const { pathname, search } = useLocation(); // for url params\r\n  const { message, type } = useAppSelector((state) => state.message);\r\n  const { isAuthenticated, pending } = useAuth();\r\n  const routes = useRoutes(appRoutes(isAuthenticated, search, pathname));\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <NotificationSnackbar\r\n        open={message !== ''}\r\n        msg={message}\r\n        severity={type}\r\n        handleClose={() => dispatch(hideMessage())}\r\n      />\r\n      <ThemeContext themeConfig={mainTheme}>{!pending ? routes : <LinearProgress />}</ThemeContext>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers, createStore } from 'redux';\r\nimport { loadingReducer, messageReducer, themeReducer } from './slices';\r\n\r\n//Utils functions such as dialog state, loading state, ....\r\nconst staticReducer = {\r\n  loading: loadingReducer,\r\n  message: messageReducer,\r\n  theme: themeReducer,\r\n};\r\n\r\nfunction createReducers(asyncReducers: any) {\r\n  return combineReducers({\r\n    ...staticReducer,\r\n    ...asyncReducers,\r\n  });\r\n}\r\n/* eslint-disable no-underscore-dangle */\r\nconst store: any = createStore(\r\n  createReducers({}),\r\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__ && (window as any).__REDUX_DEVTOOLS_EXTENSION__(),\r\n);\r\n/* eslint-enable */\r\nstore.asyncReducers = {};\r\n\r\nconst injectReducer = (key: string, reducer: any) => {\r\n  if (store.asyncReducers[key]) return;\r\n  store.asyncReducers[key] = reducer;\r\n  store.replaceReducer(createReducers(store.asyncReducers));\r\n};\r\n\r\nexport { store, injectReducer };\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './assets/styles/index.css';\r\nimport { CssBaseline } from '@mui/material';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './store';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { AuthProvider } from 'components';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <Provider store={store}>\r\n        <CssBaseline />\r\n        <HashRouter>\r\n          <App />\r\n        </HashRouter>\r\n      </Provider>\r\n    </AuthProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals())\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export * from './auth';\r\nexport * from './users';\r\nexport * from './classes';\r\n"],"sourceRoot":""}